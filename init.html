<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-11-29 Sun 12:21 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Configuration File</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Pierce Wang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="https://sandyuraz.com/styles/org.min.css">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Emacs Configuration File</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga49afc1">1. Credits</a></li>
<li><a href="#org010d3d3">2. Installing</a>
<ul>
<li><a href="#org5e1cfed">2.1. Dependencies</a></li>
<li><a href="#orge070fd7">2.2. Meta</a></li>
<li><a href="#org601cc53">2.3. Headers</a></li>
</ul>
</li>
<li><a href="#org26a3165">3. Startup</a>
<ul>
<li><a href="#orgbba4451">3.1. Garbage Collection</a></li>
<li><a href="#org67c25e8">3.2. Package Setup</a></li>
<li><a href="#org6eff967">3.3. Use package</a></li>
</ul>
</li>
<li><a href="#org35379d3">4. Configurations</a>
<ul>
<li><a href="#org4045348">4.1. Emacs Stuff</a>
<ul>
<li><a href="#orgaa21a50">4.1.1. Startup Time Test</a></li>
<li><a href="#orgc0dd1bd">4.1.2. Custom Set Variables</a></li>
<li><a href="#org5e26efc">4.1.3. Confirm Kill Emacs</a></li>
</ul>
</li>
<li><a href="#orgba170a7">4.2. Custom Functions</a>
<ul>
<li><a href="#orga2db8c1">4.2.1. append-to-list</a></li>
<li><a href="#orgb61bded">4.2.2. Increment/Decrement Numbers</a></li>
<li><a href="#org688a47d">4.2.3. Insert Directory (obsolete?)</a></li>
<li><a href="#org0b373be">4.2.4. Ignore Error Wrapping Function</a></li>
<li><a href="#orgb090fb5">4.2.5. Insert Org-mode Image</a></li>
<li><a href="#orge354841">4.2.6. Keyboard Coding System</a></li>
<li><a href="#orgfa0c84f">4.2.7. Dired Open File</a></li>
<li><a href="#org66fa246">4.2.8. Copy MLA org-file</a></li>
<li><a href="#org2aa0a23">4.2.9. Lookup in Dictionary (Apple)</a></li>
<li><a href="#orgb592889">4.2.10. Test network (internet-up-p)</a></li>
<li><a href="#orgf4ce004">4.2.11. Get org link&#xa0;&#xa0;&#xa0;<span class="tag"><span class="keybinds">keybinds</span></span></a></li>
<li><a href="#orgcdcf3c0">4.2.12. Make-shell</a></li>
</ul>
</li>
<li><a href="#org3d17f4d">4.3. Modifier Keys</a></li>
<li><a href="#org697ff9c">4.4. OS Integration</a></li>
<li><a href="#org80c3e14">4.5. Visuals</a>
<ul>
<li><a href="#org95f69ba">4.5.1. All the Icons</a></li>
<li><a href="#orgf7447bd">4.5.2. Doom Theme</a></li>
<li><a href="#orge4d91e0">4.5.3. <span class="done DISABLED">DISABLED</span> Light Theme</a></li>
<li><a href="#orgcb0c9db">4.5.4. Frame Resize Pixelwise</a></li>
</ul>
</li>
<li><a href="#org0ece99e">4.6. Windows and Frames</a>
<ul>
<li><a href="#orgfc52e1c">4.6.1. Movement Between Windows</a></li>
<li><a href="#org8caa96d">4.6.2. Window Management</a></li>
</ul>
</li>
<li><a href="#org8285897">4.7. Treemacs</a></li>
<li><a href="#orgea93ddd">4.8. ztree (Tool for diffing and merging directories)</a></li>
<li><a href="#org8f9cb1a">4.9. Fonts</a>
<ul>
<li><a href="#orgc6cdf8b">4.9.1. <span class="done DISABLED">DISABLED</span> Chinese Font with English Font&#xa0;&#xa0;&#xa0;<span class="tag"><span class="ARCHIVE">ARCHIVE</span></span></a></li>
<li><a href="#org152b6c9">4.9.2. Set default font and configure font resizing</a></li>
<li><a href="#org136b05e">4.9.3. Variable Pitch Default Font</a></li>
<li><a href="#orge994f7e">4.9.4. Mixed Pitch</a></li>
</ul>
</li>
<li><a href="#org5c4f7dc">4.10. GPG</a></li>
<li><a href="#orgfbfc9e6">4.11. Passwords</a></li>
<li><a href="#org8a287ec">4.12. Mode Line</a>
<ul>
<li><a href="#orge01f0a4">4.12.1. <span class="done DISABLED">DISABLED</span> Smart Mode Line</a></li>
<li><a href="#org3c2a223">4.12.2. Powerline</a></li>
<li><a href="#orga02edcb">4.12.3. Other Configuration</a></li>
<li><a href="#orgf950949">4.12.4. <span class="done DISABLED">DISABLED</span> Time display</a></li>
<li><a href="#orgb8baa44">4.12.5. <span class="done DISABLED">DISABLED</span> Battery display</a></li>
</ul>
</li>
<li><a href="#org3d23e85">4.13. Narrowing Frameworks</a>
<ul>
<li><a href="#org7a65331">4.13.1. <span class="done DISABLED">DISABLED</span> Helm</a></li>
<li><a href="#orge0bf378">4.13.2. Ivy</a></li>
</ul>
</li>
<li><a href="#org00a4fc0">4.14. Diary</a>
<ul>
<li><a href="#org3841d2c">4.14.1. Diary file</a></li>
<li><a href="#org0b0b469">4.14.2. Appointments Setup</a></li>
</ul>
</li>
<li><a href="#orga52a2ac">4.15. Org-mode</a>
<ul>
<li><a href="#org655c10f">4.15.1. Setting orgmode directories:</a></li>
<li><a href="#orge8d4607">4.15.2. Startup Settings</a></li>
<li><a href="#orgcf5996b">4.15.3. Todo keywords</a></li>
<li><a href="#org410252a">4.15.4. Keybinds</a></li>
<li><a href="#orgefa447a">4.15.5. Tags</a></li>
<li><a href="#orgf22e2d7">4.15.6. Log when tasks are marked as done:</a></li>
<li><a href="#org5814b77">4.15.7. Org Refile:</a></li>
<li><a href="#orgb071083">4.15.8. Agenda</a></li>
<li><a href="#org43508bc">4.15.9. <span class="done DISABLED">DISABLED</span> org-super-agenda</a></li>
<li><a href="#orgad1e099">4.15.10. Quick Capture</a></li>
<li><a href="#orgd27f930">4.15.11. MobileOrg</a></li>
<li><a href="#orge35b245">4.15.12. Crypt</a></li>
<li><a href="#org2b61900">4.15.13. Babel</a></li>
<li><a href="#orga4b6541">4.15.14. Org-drill</a></li>
<li><a href="#org33d016d">4.15.15. Latex</a></li>
<li><a href="#org54f7395">4.15.16. Org Superstar (Bullets revamped)</a></li>
<li><a href="#org616eb63">4.15.17. Export</a></li>
<li><a href="#org4ed0c4c">4.15.18. org-noter: PDF Annotation</a></li>
<li><a href="#orgff4f453">4.15.19. <span class="todo TODO">TODO</span> Diary</a></li>
<li><a href="#orga9c274b">4.15.20. org-gcal: Calendar Integration</a></li>
<li><a href="#orgdcce7bc">4.15.21. org-reveal</a></li>
</ul>
</li>
<li><a href="#org39b78c5">4.16. LaTeX</a>
<ul>
<li><a href="#org206727b">4.16.1. AUCTEX</a></li>
<li><a href="#orgd20dc12">4.16.2. Classes - Adding Academic XeTeX Times New Roman Class</a></li>
</ul>
</li>
<li><a href="#org47aaa48">4.17. Evil</a>
<ul>
<li><a href="#orgeadceb2">4.17.1. Normal Mode Keybinds</a></li>
</ul>
</li>
<li><a href="#orgfffb144">4.18. Programming Environments</a>
<ul>
<li><a href="#org33e2861">4.18.1. Python</a></li>
<li><a href="#org8e1a39f">4.18.2. Octave</a></li>
<li><a href="#orgd8ed50a">4.18.3. Java</a></li>
</ul>
</li>
<li><a href="#org0c0d45a">4.19. Macros</a>
<ul>
<li><a href="#orgb466fb5">4.19.1. Macro Query</a></li>
</ul>
</li>
<li><a href="#org4bbb8c8">4.20. Magit</a></li>
<li><a href="#org681e7d6">4.21. yasnippet - Yet Another Snippet Extension</a></li>
<li><a href="#orgd05070a">4.22. Backups</a></li>
<li><a href="#orgab6df70">4.23. Daemon</a></li>
<li><a href="#org3dc346e">4.24. Revert Mode</a></li>
<li><a href="#org3bd7c22">4.25. Calendar</a>
<ul>
<li><a href="#org313d633">4.25.1. Date Style</a></li>
</ul>
</li>
<li><a href="#org8a1af37">4.26. Artist Mode</a></li>
<li><a href="#orgdf8b073">4.27. Image Mode</a></li>
<li><a href="#orgc55a8b1">4.28. Flyspell mode</a></li>
<li><a href="#org1855379">4.29. Games</a>
<ul>
<li><a href="#orgb24807e">4.29.1. Tetris</a></li>
<li><a href="#orgcfab0ce">4.29.2. Retris</a></li>
</ul>
</li>
<li><a href="#orge437a3e">4.30. Desktop Save</a></li>
<li><a href="#org090629c">4.31. ERC</a></li>
<li><a href="#org0d43189">4.32. Keybinds</a>
<ul>
<li><a href="#orgef56199">4.32.1. which-key</a></li>
<li><a href="#org58fd50a">4.32.2. Scrolling</a></li>
</ul>
</li>
<li><a href="#org49cde2b">4.33. Hydra for Resizing Windows</a></li>
<li><a href="#orgcb0993c">4.34. User Configuration</a></li>
<li><a href="#org26e770d">4.35. Buffer Mangement</a>
<ul>
<li><a href="#org036e0a8">4.35.1. <span class="done DISABLED">DISABLED</span> IBuffer</a></li>
<li><a href="#org078583f">4.35.2. Bufler - Alphapapa</a></li>
</ul>
</li>
<li><a href="#orgadbbf70">4.36. Dired</a>
<ul>
<li><a href="#org9377561">4.36.1. dired-quick-sort.el</a></li>
<li><a href="#org760911d">4.36.2. Human readable format for ls switches (<code>-h</code>)</a></li>
</ul>
</li>
<li><a href="#orgb8dc275">4.37. Disabled Functions</a></li>
<li><a href="#orgd1cc7a5">4.38. browse-url-firefox-program</a></li>
<li><a href="#org0daf975">4.39. mu4e</a>
<ul>
<li><a href="#org229abe1">4.39.1. mu4e-alert</a></li>
<li><a href="#orgade4b2d">4.39.2. mu4e keybinds&#xa0;&#xa0;&#xa0;<span class="tag"><span class="keybinds">keybinds</span></span></a></li>
</ul>
</li>
<li><a href="#org413ec7d">4.40. OHS</a>
<ul>
<li><a href="#orgc7427f2">4.40.1. <span class="done DISABLED">DISABLED</span> Schoolyear Calculation for sexp Diary Entries&#xa0;&#xa0;&#xa0;<span class="tag"><span class="ARCHIVE">ARCHIVE</span></span></a></li>
<li><a href="#orgca26908">4.40.2. Generate OHS Class Calendar</a></li>
<li><a href="#org140546a">4.40.3. Sync gcal Bash Script</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orga49afc1" class="outline-2">
<h2 id="orga49afc1"><span class="section-number-2">1</span> Credits</h2>
<div class="outline-text-2" id="text-1">
<p>
Inspired by <a href="https://github.com/freetonik/emacs-dotfiles">freetonik</a>'s setup. Check out his podcast!
</p>
</div>
</div>
<div id="outline-container-org010d3d3" class="outline-2">
<h2 id="org010d3d3"><span class="section-number-2">2</span> Installing</h2>
<div class="outline-text-2" id="text-2">
<p>
This config works best with <a href="https://github.com/d12frosted/homebrew-emacs-plus">emacs-plus</a> (27.1)
</p>
<div class="org-src-container">
<pre class="src src-sh">brew tap d12frosted/emacs-plus
brew install emacs-plus
ln -s /usr/local/opt/emacs-plus/Emacs.app /Applications/Emacs.app
</pre>
</div>
</div>

<div id="outline-container-org5e1cfed" class="outline-3">
<h3 id="org5e1cfed"><span class="section-number-3">2.1</span> Dependencies</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-sh">brew install ispell
brew cask install mactex
</pre>
</div>
</div>
</div>

<div id="outline-container-orge070fd7" class="outline-3">
<h3 id="orge070fd7"><span class="section-number-3">2.2</span> Meta</h3>
<div class="outline-text-3" id="text-2-2">
<p>
When this configuration is loaded for the first time, the <code>init.el</code> is the file that is loaded. It looks like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;; </span><span style="color: #546A90;">This file replaces itself with the actual configuration at first run.</span>

<span style="color: #546A90;">;; </span><span style="color: #546A90;">We can't tangle without org!</span>
(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">org</span>)
<span style="color: #546A90;">;; </span><span style="color: #546A90;">Open the configuration</span>
(find-file (concat user-emacs-directory <span style="color: #7984D1;">"init.org"</span>))
<span style="color: #546A90;">;; </span><span style="color: #546A90;">tangle it</span>
(org-babel-tangle)
<span style="color: #546A90;">;; </span><span style="color: #546A90;">load it</span>
(load-file (concat user-emacs-directory <span style="color: #7984D1;">"init.el"</span>))
<span style="color: #546A90;">;; </span><span style="color: #546A90;">finally byte-compile it</span>
(byte-compile-file (concat user-emacs-directory <span style="color: #7984D1;">"init.el"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org601cc53" class="outline-3">
<h3 id="org601cc53"><span class="section-number-3">2.3</span> Headers</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Lexical scoping for the init-file is needed, it can be specified in the header. This is the first line of the actual configuration:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;;; </span><span style="color: #546A90;">-*- lexical-binding: t -*-</span>
</pre>
</div>

<p>
Tangle and compile this file on save automatically:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">tangle-init</span> ()
  <span style="color: #A875FF;">"If the current buffer is 'init.org' the code-blocks are</span>
<span style="color: #A875FF;">tangled, and the tangled file is compiled."</span>
  (<span style="color: #ff2afc; font-weight: bold;">when</span> (equal (buffer-file-name)
               (expand-file-name (concat user-emacs-directory <span style="color: #7984D1;">"init.org"</span>)))
    <span style="color: #546A90;">;; </span><span style="color: #546A90;">Avoid running hooks when tangling.</span>
    (<span style="color: #ff2afc; font-weight: bold;">let</span> ((prog-mode-hook nil))
      (org-babel-tangle)
      (byte-compile-file (concat user-emacs-directory <span style="color: #7984D1;">"init.el"</span>)))))

(add-hook 'after-save-hook 'tangle-init)
</pre>
</div>

<p>
This helps get rid of <code>functions might not be defined at runtime</code> warnings. See <a href="https://github.com/jwiegley/use-package/issues/590">https://github.com/jwiegley/use-package/issues/590</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">eval-when-compile</span>
  (<span style="color: #ff2afc; font-weight: bold;">defvar</span> <span style="color: #df85ff;">use-package-expand-minimally</span> byte-compile-current-file))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org26a3165" class="outline-2">
<h2 id="org26a3165"><span class="section-number-2">3</span> Startup</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgbba4451" class="outline-3">
<h3 id="orgbba4451"><span class="section-number-3">3.1</span> Garbage Collection</h3>
<div class="outline-text-3" id="text-3-1">
<p>
For faster startup times, according to <a href="https://github.com/hlissner/doom-emacs/blob/develop/docs/faq.org#how-does-doom-start-up-so-quickly">hlissner</a>,
</p>

<blockquote>
<p>
The GC eats up quite a bit of time, easily doubling startup time. The trick is to turn up the memory threshold as early as possible.
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> gc-cons-threshold most-positive-fixnum <span style="color: #546A90;">; </span><span style="color: #546A90;">2^61 bytes</span>
      gc-cons-percentage 0.6)

(<span style="color: #ff2afc; font-weight: bold;">defvar</span> <span style="color: #df85ff;">better-gc-cons-threshold</span> 16777216 <span style="color: #546A90;">; </span><span style="color: #546A90;">16mb</span>
  <span style="color: #A875FF;">"The default value to use for `</span><span style="color: #df85ff; font-weight: bold;">gc-cons-threshold</span><span style="color: #A875FF;">'.</span>
<span style="color: #A875FF;">If you experience freezing, decrease this. If you experience stuttering, increase this."</span>)


(add-hook 'emacs-startup-hook
  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
    (<span style="color: #ff2afc; font-weight: bold;">setq</span> gc-cons-threshold better-gc-cons-threshold
          gc-cons-percentage 0.1))) <span style="color: #546A90;">; </span><span style="color: #546A90;">Default value for `</span><span style="color: #df85ff; font-weight: bold;">gc-cons-percentage</span><span style="color: #546A90;">'</span>
</pre>
</div>

<p>
gc and minibuffer (also from doom)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/defer-garbage-collection-h</span> ()
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> gc-cons-threshold most-positive-fixnum))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/restore-garbage-collection-h</span> ()
  <span style="color: #A875FF;">"Defer it so that commands launched immediately after will enjoy the benefits."</span>
  (run-at-time
   1 nil (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">setq</span> gc-cons-threshold better-gc-cons-threshold))))

(add-hook 'minibuffer-setup-hook #'pgw/defer-garbage-collection-h)
(add-hook 'minibuffer-exit-hook #'pgw/restore-garbage-collection-h)
</pre>
</div>
</div>
</div>

<div id="outline-container-org67c25e8" class="outline-3">
<h3 id="org67c25e8"><span class="section-number-3">3.2</span> Package Setup</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Initialize package and add Melpa, GNU, and Org sources.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">package</span>)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> package-archives
    '((<span style="color: #7984D1;">"melpa"</span> . <span style="color: #7984D1;">"https://melpa.org/packages/"</span>)
      (<span style="color: #7984D1;">"gnu"</span> . <span style="color: #7984D1;">"https://elpa.gnu.org/packages/"</span>)
      (<span style="color: #7984D1;">"org"</span> . <span style="color: #7984D1;">"https://orgmode.org/elpa/"</span>)
      ))
(package-initialize)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6eff967" class="outline-3">
<h3 id="org6eff967"><span class="section-number-3">3.3</span> Use package</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Add custom load path:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path <span style="color: #7984D1;">"~/.emacs.d/custom_load/"</span>)
</pre>
</div>

<p>
Install use-package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">unless</span> (package-installed-p 'use-package)
  (package-refresh-contents)
  (package-install 'use-package))

(<span style="color: #ff2afc; font-weight: bold;">eval-when-compile</span> (<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">use-package</span>))

(<span style="color: #ff2afc; font-weight: bold;">setq</span> use-package-always-ensure t)
</pre>
</div>

<p>
use-package.el no longer needed at runtime
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">eval-when-compile</span>
  (<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">use-package</span>))
(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">bind-key</span>)                <span style="color: #546A90;">;; </span><span style="color: #546A90;">if you use any :bind variant</span>
</pre>
</div>

<p>
No need for "Package cl deprecated" warning on startup.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> byte-compile-warnings '(cl-functions))
(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">cl-lib</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org35379d3" class="outline-2">
<h2 id="org35379d3"><span class="section-number-2">4</span> Configurations</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org4045348" class="outline-3">
<h3 id="org4045348"><span class="section-number-3">4.1</span> Emacs Stuff</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-orgaa21a50" class="outline-4">
<h4 id="orgaa21a50"><span class="section-number-4">4.1.1</span> Startup Time Test</h4>
<div class="outline-text-4" id="text-4-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'emacs-startup-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
            (message <span style="color: #7984D1;">"Emacs ready in %s with %d garbage collections."</span>
                     (format <span style="color: #7984D1;">"%.2f seconds"</span>
                             (float-time
                              (time-subtract after-init-time before-init-time)))
                     gcs-done)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0dd1bd" class="outline-4">
<h4 id="orgc0dd1bd"><span class="section-number-4">4.1.2</span> Custom Set Variables</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Store custom-file separately, don't freek out when it's not found.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> custom-file (expand-file-name <span style="color: #7984D1;">"custom.el"</span> user-emacs-directory))
(load custom-file 'noerror)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e26efc" class="outline-4">
<h4 id="org5e26efc"><span class="section-number-4">4.1.3</span> Confirm Kill Emacs</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
Make Emacs confirm when quitting:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> confirm-kill-emacs 'yes-or-no-p)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgba170a7" class="outline-3">
<h3 id="orgba170a7"><span class="section-number-3">4.2</span> Custom Functions</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-orga2db8c1" class="outline-4">
<h4 id="orga2db8c1"><span class="section-number-4">4.2.1</span> append-to-list</h4>
<div class="outline-text-4" id="text-4-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">append-to-list</span> (list-var elements)
  <span style="color: #A875FF;">"Append ELEMENTS to the end of LIST-VAR.</span>

<span style="color: #A875FF;">The return value is the new value of LIST-VAR."</span>
  (<span style="color: #ff2afc; font-weight: bold;">unless</span> (consp elements)
    (<span style="color: #ffd400;">error</span> <span style="color: #7984D1;">"ELEMENTS must be a list"</span>))
  (<span style="color: #ff2afc; font-weight: bold;">let</span> ((list (symbol-value list-var)))
    (<span style="color: #ff2afc; font-weight: bold;">if</span> list
        (setcdr (last list) elements)
      (set list-var elements)))
  (symbol-value list-var))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb61bded" class="outline-4">
<h4 id="orgb61bded"><span class="section-number-4">4.2.2</span> Increment/Decrement Numbers</h4>
<div class="outline-text-4" id="text-4-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;;; </span><span style="color: #546A90;">Increment Numbers</span>
(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">increment-number-at-point</span> ()
  <span style="color: #A875FF;">"Increments numbers at cursor"</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (skip-chars-backward <span style="color: #7984D1;">"0-9"</span>)
  (<span style="color: #ff2afc; font-weight: bold;">or</span> (looking-at <span style="color: #7984D1;">"[0-9]+"</span>)
      (<span style="color: #ffd400;">error</span> <span style="color: #7984D1;">"No number at point"</span>))
  (replace-match (number-to-string (1+ (string-to-number (match-string 0))))))

<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Decrement Numbers</span>
(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">decrement-number-at-point</span> ()
  <span style="color: #A875FF;">"Decrements numbers at cursor"</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (skip-chars-backward <span style="color: #7984D1;">"0-9"</span>)
  (<span style="color: #ff2afc; font-weight: bold;">or</span> (looking-at <span style="color: #7984D1;">"[0-9]+"</span>)
      (<span style="color: #ffd400;">error</span> <span style="color: #7984D1;">"No number at point"</span>))
  (replace-match (number-to-string (1- (string-to-number (match-string 0))))))

<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Binding</span>
(global-set-key (kbd <span style="color: #7984D1;">"C-; C-="</span>) 'increment-number-at-point)
(global-set-key (kbd <span style="color: #7984D1;">"C-; C--"</span>) 'decrement-number-at-point)
</pre>
</div>
</div>
</div>

<div id="outline-container-org688a47d" class="outline-4">
<h4 id="org688a47d"><span class="section-number-4">4.2.3</span> Insert Directory (obsolete?)</h4>
<div class="outline-text-4" id="text-4-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">insertdirectory</span> ()
  <span style="color: #A875FF;">"Insert current directory for macro use"</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (insert default-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0b373be" class="outline-4">
<h4 id="org0b373be"><span class="section-number-4">4.2.4</span> Ignore Error Wrapping Function</h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
For some functions that I don't need to give errors:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">ignore-error-wrapper</span> (fn)
  <span style="color: #A875FF;">"Funtion return new function that ignore errors.</span>
<span style="color: #A875FF;">     The function wraps a function with `</span><span style="color: #df85ff; font-weight: bold;">ignore-errors</span><span style="color: #A875FF;">' macro."</span>
  (<span style="color: #ff2afc; font-weight: bold;">lexical-let</span> ((fn fn))
    (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
      (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
      (<span style="color: #ff2afc; font-weight: bold;">ignore-errors</span>
        (funcall fn)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb090fb5" class="outline-4">
<h4 id="orgb090fb5"><span class="section-number-4">4.2.5</span> Insert Org-mode Image</h4>
<div class="outline-text-4" id="text-4-2-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">insert-org-image</span> (<span style="color: #ffd400;">&amp;optional</span> swindow)
  <span style="color: #A875FF;">"Prompt user for name of file, append time and date string, then use the Mac OSX `screencapture` feature to take a photo and place it in the relative ./figures directory."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span> <span style="color: #7984D1;">"P"</span>)
  (<span style="color: #ff2afc; font-weight: bold;">unless</span> (not (eq system-type 'darwin))
    (<span style="color: #ff2afc; font-weight: bold;">let*</span> ((outdir (concat (file-name-directory (buffer-file-name)) <span style="color: #7984D1;">"/figures"</span>))
           (namefile (concat (read-string <span style="color: #7984D1;">"Enter File Name: "</span>) <span style="color: #7984D1;">"_"</span> (format-time-string <span style="color: #7984D1;">"%Y%m%d_%H%M%S.jpeg"</span>))))
      (<span style="color: #ff2afc; font-weight: bold;">if</span> (char-equal (aref namefile 0) ?_)
          (<span style="color: #ff2afc; font-weight: bold;">setq</span> namefile (substring namefile 1 (length namefile))))
      (<span style="color: #ff2afc; font-weight: bold;">let*</span> ((outfile (expand-file-name namefile outdir)))
        (<span style="color: #ff2afc; font-weight: bold;">unless</span> (file-directory-p outdir)
          (make-directory outdir t))
        (message <span style="color: #7984D1;">"Argument: %s"</span> swindow)
        (<span style="color: #ff2afc; font-weight: bold;">if</span> swindow
            (call-process <span style="color: #7984D1;">"screencapture"</span> nil nil nil <span style="color: #7984D1;">"-w"</span> outfile)
          (call-process <span style="color: #7984D1;">"screencapture"</span> nil nil nil <span style="color: #7984D1;">"-i"</span> outfile))
        (message namefile)
        (insert (concat (concat <span style="color: #7984D1;">"[[file:./figures/"</span> (file-name-nondirectory outfile)) <span style="color: #7984D1;">"]]"</span>))))
    )
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orge354841" class="outline-4">
<h4 id="orge354841"><span class="section-number-4">4.2.6</span> Keyboard Coding System</h4>
<div class="outline-text-4" id="text-4-2-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-keyboard-coding-system nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa0c84f" class="outline-4">
<h4 id="orgfa0c84f"><span class="section-number-4">4.2.7</span> Dired Open File</h4>
<div class="outline-text-4" id="text-4-2-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/dired-open-file</span> ()
  <span style="color: #A875FF;">"In dired, open the file named on this line using the default application in the system."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (<span style="color: #ff2afc; font-weight: bold;">let</span> ((file (dired-get-filename nil t)) <span style="color: #546A90;">; </span><span style="color: #546A90;">Full path</span>
        (filename (dired-get-filename t t))) <span style="color: #546A90;">; </span><span style="color: #546A90;">File name for display</span>
    (message <span style="color: #7984D1;">"Opening %s..."</span> filename)
    (call-process <span style="color: #7984D1;">"open"</span> nil 0 nil file)
    (message <span style="color: #7984D1;">"Opening %s done"</span> filename)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org66fa246" class="outline-4">
<h4 id="org66fa246"><span class="section-number-4">4.2.8</span> Copy MLA org-file</h4>
<div class="outline-text-4" id="text-4-2-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/copy-mla-file</span> ()
  <span style="color: #A875FF;">"Copy MLA_OrgFile.org to current directory for use in school essays."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (copy-file <span style="color: #7984D1;">"~/Dropbox/org/templates/school/MLA_OrgFile.org"</span> default-directory)
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-org2aa0a23" class="outline-4">
<h4 id="org2aa0a23"><span class="section-number-4">4.2.9</span> Lookup in Dictionary (Apple)</h4>
<div class="outline-text-4" id="text-4-2-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">when</span> (eq system-type 'darwin)
  (<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/lookup-dictionary</span> ()
    <span style="color: #A875FF;">"Function to open a dictionary searching the highlighted word</span>
<span style="color: #A875FF;">No spaces are allowed in the input of this function"</span>
    (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
    (<span style="color: #ff2afc; font-weight: bold;">let</span> ((word (read-from-minibuffer <span style="color: #7984D1;">"Word query: "</span>)))
      (call-process <span style="color: #7984D1;">"open"</span> nil nil nil (concat <span style="color: #7984D1;">"dict://"</span> word)))
    )
  (global-set-key (kbd <span style="color: #7984D1;">"M-#"</span>) 'pgw/lookup-dictionary)
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb592889" class="outline-4">
<h4 id="orgb592889"><span class="section-number-4">4.2.10</span> Test network (internet-up-p)</h4>
<div class="outline-text-4" id="text-4-2-10">
<p>
Test if network is up and running
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">internet-up-p</span> (<span style="color: #ffd400;">&amp;optional</span> host)
  (= 0 (call-process <span style="color: #7984D1;">"ping"</span> nil nil nil <span style="color: #7984D1;">"-c"</span> <span style="color: #7984D1;">"1"</span> <span style="color: #7984D1;">"-W"</span> <span style="color: #7984D1;">"1"</span>
                     (<span style="color: #ff2afc; font-weight: bold;">if</span> host host <span style="color: #7984D1;">"1.1.1.1"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf4ce004" class="outline-4">
<h4 id="orgf4ce004"><span class="section-number-4">4.2.11</span> Get org link&#xa0;&#xa0;&#xa0;<span class="tag"><span class="keybinds">keybinds</span></span></h4>
<div class="outline-text-4" id="text-4-2-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/org-get-link-at-point</span> ()
  <span style="color: #A875FF;">"Get the link from an org heading"</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (<span style="color: #ff2afc; font-weight: bold;">let*</span> ((context (org-element-context))
         (link (<span style="color: #ff2afc; font-weight: bold;">if</span> (eq (car context) 'link)
                   (org-element-property <span style="color: #1ea8fc;">:path</span> context)
                 nil)))
    (<span style="color: #ff2afc; font-weight: bold;">if</span> link (kill-new (concat (org-element-property <span style="color: #1ea8fc;">:type</span> context) <span style="color: #7984D1;">":"</span> link)))))

(global-set-key (kbd <span style="color: #7984D1;">"C-c s-l"</span>) 'pgw/org-get-link-at-point)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcdcf3c0" class="outline-4">
<h4 id="orgcdcf3c0"><span class="section-number-4">4.2.12</span> Make-shell</h4>
<div class="outline-text-4" id="text-4-2-12">
<p>
Make a shell instance with name
<a href="https://stackoverflow.com/questions/2540997/create-more-than-one-eshell-instance-in-emacs/2541530#2541530">https://stackoverflow.com/questions/2540997/create-more-than-one-eshell-instance-in-emacs/2541530#2541530</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">make-shell</span> (name)
  <span style="color: #A875FF;">"Create a shell buffer named NAME."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span> <span style="color: #7984D1;">"sName: "</span>)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> name (concat <span style="color: #7984D1;">"$"</span> name))
  (eshell 4)
  (rename-buffer name))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3d17f4d" class="outline-3">
<h3 id="org3d17f4d"><span class="section-number-3">4.3</span> Modifier Keys</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">when</span> (eq system-type 'darwin)
  (with-no-warnings
    (<span style="color: #ff2afc; font-weight: bold;">setq</span> mac-option-modifier 'meta)
    (<span style="color: #ff2afc; font-weight: bold;">setq</span> mac-control-modifier 'control)
    (<span style="color: #ff2afc; font-weight: bold;">setq</span> ns-function-modifier 'hyper)))

(<span style="color: #ff2afc; font-weight: bold;">when</span> (eq system-type 'gnu/linux)
  (with-no-warnings (<span style="color: #ff2afc; font-weight: bold;">setq</span> x-super-keysym 'hyper)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org697ff9c" class="outline-3">
<h3 id="org697ff9c"><span class="section-number-3">4.4</span> OS Integration</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">exec-path-from-shell</span>)

(<span style="color: #ff2afc; font-weight: bold;">when</span> (memq window-system '(mac ns x))
  (exec-path-from-shell-initialize))

<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Change shell process (from bash to zsh)</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> shell-file-name <span style="color: #7984D1;">"/bin/zsh"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org80c3e14" class="outline-3">
<h3 id="org80c3e14"><span class="section-number-3">4.5</span> Visuals</h3>
<div class="outline-text-3" id="text-4-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;</span><span style="color: #546A90;">(load-theme 'tango-dark t)</span>
<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Frame</span>
(add-to-list 'default-frame-alist '(height . 46))
(add-to-list 'default-frame-alist '(width . 146))

<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Visual line mode (for text wrapping)</span>
(global-set-key (kbd <span style="color: #7984D1;">"C-x v v"</span>) 'visual-line-mode)

<span style="color: #546A90;">;</span><span style="color: #546A90;">(global-visual-line-mode t)</span>
(global-linum-mode 0)
(global-display-line-numbers-mode 1)
(<span style="color: #ff2afc; font-weight: bold;">setq-default</span> display-line-numbers 'visual)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> display-line-numbers-type 'visual)
(set-default 'truncate-lines t)

<span style="color: #546A90;">;; </span><span style="color: #546A90;">(add-to-list 'default-frame-alist '(ns-transparent-titlebar . t))</span>
(add-to-list 'default-frame-alist '(ns-appearance . dark)) <span style="color: #546A90;">;; </span><span style="color: #546A90;">assuming you are using a dark theme</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">(setq ns-use-proxy-icon nil)</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">(setq frame-title-format nil)</span>
(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)

(<span style="color: #ff2afc; font-weight: bold;">setq</span> visual-line-fringe-indicators '(left-curly-arrow hollow-square)) <span style="color: #546A90;">;; </span><span style="color: #546A90;">'(left-curly-arrow right-curly-arrow) for both left and right</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">Testing freetonik's fringe indicator alist</span>
(<span style="color: #ff2afc; font-weight: bold;">setq-default</span> fringe-indicator-alist '((truncation left-arrow right-arrow)
 (continuation nil right-arrow)
 (overlay-arrow . right-triangle)
 (up . up-arrow)
 (down . down-arrow)
 (top top-left-angle top-right-angle)
 (bottom bottom-left-angle bottom-right-angle top-right-angle top-left-angle)
 (top-bottom left-bracket right-bracket top-right-angle top-left-angle)
 (empty-line . empty-line)
 (unknown . question-mark)))

</pre>
</div>
</div>

<div id="outline-container-org95f69ba" class="outline-4">
<h4 id="org95f69ba"><span class="section-number-4">4.5.1</span> All the Icons</h4>
<div class="outline-text-4" id="text-4-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">all-the-icons</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7447bd" class="outline-4">
<h4 id="orgf7447bd"><span class="section-number-4">4.5.2</span> Doom Theme</h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
Favorite themes:
</p>

<ol class="org-ol">
<li>outrun-electric</li>
<li>challenger-deep</li>
<li>molokai</li>
<li>solarized-dark</li>
</ol>

<p>
Light themes:
</p>
<ul class="org-ul">
<li>solarized-light</li>
<li>doom-acario-light</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">doom-themes</span>
  <span style="color: #1ea8fc;">:config</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Global settings (defaults)</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> doom-themes-enable-bold t    <span style="color: #546A90;">; </span><span style="color: #546A90;">if nil, bold is universally disabled</span>
      doom-themes-enable-italic t) <span style="color: #546A90;">; </span><span style="color: #546A90;">if nil, italics is universally disabled</span>

  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Load the theme (doom-one, doom-molokai, etc); keep in mind that each theme</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">may have their own settings.</span>
  (load-theme 'doom-outrun-electric t)

  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Enable flashing mode-line on errors</span>
  (doom-themes-visual-bell-config)

  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Enable custom neotree theme (all-the-icons must be installed!)</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">(doom-themes-neotree-config)</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">or for treemacs users</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> doom-themes-treemacs-theme <span style="color: #7984D1;">"doom-colors"</span>) <span style="color: #546A90;">; </span><span style="color: #546A90;">use the colorful treemacs theme</span>
  (doom-themes-treemacs-config)

  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Doom themes fontifies #hashtags and @at-tags by default.</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">To disable this:</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> doom-org-special-tags nil)

  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Corrects (and improves) org-mode's native fontification.</span>
  (doom-themes-org-config)
  )
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgc2054f4"></a>Set Orgmode Agenda Stuff<br />
<div class="outline-text-5" id="text-4-5-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;; </span><span style="color: #546A90;">this must be used after loading the theme with (load-theme THEME-NAME t)</span>
(custom-set-faces
 `(org-time-grid ((t (<span style="color: #1ea8fc;">:foreground</span> ,(doom-blend 'yellow 'fg 0.6)))))
 `(org-time-grid ((t (<span style="color: #1ea8fc;">:foreground</span> ,(doom-blend 'yellow 'fg 0.6)))))
 `(org-habit-ready-face ((t (<span style="color: #1ea8fc;">:foreground</span> ,(doom-blend 'blue 'fg 0.1)))))
 `(org-habit-alert-face ((t (<span style="color: #1ea8fc;">:foreground</span> ,(doom-blend 'yellow 'fg 0.1)))))
 `(org-habit-overdue-face ((t (<span style="color: #1ea8fc;">:foreground</span> ,(doom-blend 'red 'fg 0.1)))))
 )
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orge4d91e0" class="outline-4">
<h4 id="orge4d91e0"><span class="section-number-4">4.5.3</span> <span class="done DISABLED">DISABLED</span> Light Theme</h4>
<div class="outline-text-4" id="text-4-5-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(load-theme 'modus-operandi)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb0c9db" class="outline-4">
<h4 id="orgcb0c9db"><span class="section-number-4">4.5.4</span> Frame Resize Pixelwise</h4>
<div class="outline-text-4" id="text-4-5-4">
<p>
Make Emacs play nice with my window manager and resizing around other windows.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> frame-resize-pixelwise t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0ece99e" class="outline-3">
<h3 id="org0ece99e"><span class="section-number-3">4.6</span> Windows and Frames</h3>
<div class="outline-text-3" id="text-4-6">
</div>
<div id="outline-container-orgfc52e1c" class="outline-4">
<h4 id="orgfc52e1c"><span class="section-number-4">4.6.1</span> Movement Between Windows</h4>
<div class="outline-text-4" id="text-4-6-1">
<p>
Windows and Frames are different than one would now intuitively think. Windows exist inside subdivided frames which we call windows now. The following code makes windows and frames easier to navigate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">when</span> (fboundp 'windmove-default-keybindings)
  (global-set-key (kbd <span style="color: #7984D1;">"H-h"</span>) (ignore-error-wrapper 'windmove-left))
  (global-set-key (kbd <span style="color: #7984D1;">"H-l"</span>) (ignore-error-wrapper 'windmove-right))
  (global-set-key (kbd <span style="color: #7984D1;">"H-k"</span>) (ignore-error-wrapper 'windmove-up))
  (global-set-key (kbd <span style="color: #7984D1;">"H-j"</span>) (ignore-error-wrapper 'windmove-down))
  )

<span style="color: #546A90;">;; </span><span style="color: #546A90;">Disabled, Doesn't really work for me - going to use s-left and s-right instead</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">(use-package framemove</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">:load-path "custom_load"</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">:config</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(require 'framemove)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(global-set-key (kbd "C-e-&lt;down&gt;")  'fm-down-frame)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(global-set-key (kbd "C-s-&lt;up&gt;")    'fm-up-frame)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(global-set-key (kbd "C-s-&lt;left&gt;")  'fm-left-frame)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(global-set-key (kbd "C-s-&lt;right&gt;") 'fm-right-frame)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(setq framemove-hook-into-windmove t)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8caa96d" class="outline-4">
<h4 id="org8caa96d"><span class="section-number-4">4.6.2</span> Window Management</h4>
<div class="outline-text-4" id="text-4-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">rotate</span>
  <span style="color: #1ea8fc;">:load-path</span> <span style="color: #7984D1;">"site-lisp/emacs-rotate"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8285897" class="outline-3">
<h3 id="org8285897"><span class="section-number-3">4.7</span> Treemacs</h3>
<div class="outline-text-3" id="text-4-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">treemacs</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">treemacs-evil</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">treemacs-magit</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea93ddd" class="outline-3">
<h3 id="orgea93ddd"><span class="section-number-3">4.8</span> ztree (Tool for diffing and merging directories)</h3>
<div class="outline-text-3" id="text-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">ztree</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8f9cb1a" class="outline-3">
<h3 id="org8f9cb1a"><span class="section-number-3">4.9</span> Fonts</h3>
<div class="outline-text-3" id="text-4-9">
</div>
<div id="outline-container-orgc6cdf8b" class="outline-4">
<h4 id="orgc6cdf8b"><span class="section-number-4">4.9.1</span> <span class="done DISABLED">DISABLED</span> Chinese Font with English Font&#xa0;&#xa0;&#xa0;<span class="tag"><span class="ARCHIVE">ARCHIVE</span></span></h4>
</div>

<div id="outline-container-org152b6c9" class="outline-4">
<h4 id="org152b6c9"><span class="section-number-4">4.9.2</span> Set default font and configure font resizing</h4>
<div class="outline-text-4" id="text-4-9-2">
<p>
Credit to Harry R. Schwartz <a href="https://github.com/hrs/dotfiles/blob/master/emacs/.emacs.d/configuration.org#set-default-font-and-configure-font-resizing">github</a>
</p>

<p>
The standard <code>text-scale-</code> functions just resize the text in the current buffer; I’d generally like to resize the text in every buffer, and I usually want to change the size of the modeline, too (this is especially helpful when presenting). These functions and bindings let me resize everything all together!
</p>

<p>
Note that this overrides the default font-related keybindings from sensible-defaults.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/default-font <span style="color: #7984D1;">"Menlo"</span>)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/default-font-size 12)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/current-font-size pgw/default-font-size)

(<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/font-change-increment 1.1)

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/font-code</span> ()
  <span style="color: #A875FF;">"Return a string representing the current font (like \"Inconsolata-14\")."</span>
  (concat pgw/default-font <span style="color: #7984D1;">"-"</span> (number-to-string pgw/current-font-size)))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/set-font-size</span> ()
  <span style="color: #A875FF;">"Set the font to `</span><span style="color: #df85ff; font-weight: bold;">pgw/default-font</span><span style="color: #A875FF;">' at `</span><span style="color: #df85ff; font-weight: bold;">pgw/current-font-size</span><span style="color: #A875FF;">'.</span>
<span style="color: #A875FF;">Set that for the current frame, and also make it the default for</span>
<span style="color: #A875FF;">other, future frames."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (<span style="color: #ff2afc; font-weight: bold;">let</span> ((font-code (pgw/font-code)))
    (<span style="color: #ff2afc; font-weight: bold;">if</span> (assoc 'font default-frame-alist)
        (setcdr (assoc 'font default-frame-alist) font-code)
      (add-to-list 'default-frame-alist (cons 'font font-code)))
    (set-frame-font font-code)))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/reset-font-size</span> ()
  <span style="color: #A875FF;">"Change font size back to `</span><span style="color: #df85ff; font-weight: bold;">pgw/default-font-size</span><span style="color: #A875FF;">'."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/current-font-size pgw/default-font-size)
  (pgw/set-font-size))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/increase-font-size</span> ()
  <span style="color: #A875FF;">"Increase current font size by a factor of `</span><span style="color: #df85ff; font-weight: bold;">pgw/font-change-increment</span><span style="color: #A875FF;">'."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/current-font-size
        (ceiling (* pgw/current-font-size pgw/font-change-increment)))
  (pgw/set-font-size))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/decrease-font-size</span> ()
  <span style="color: #A875FF;">"Decrease current font size by a factor of `</span><span style="color: #df85ff; font-weight: bold;">pgw/font-change-increment</span><span style="color: #A875FF;">', down to a minimum size of 1."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/current-font-size
        (max 1
             (floor (/ pgw/current-font-size pgw/font-change-increment))))
  (pgw/set-font-size))

(define-key global-map (kbd <span style="color: #7984D1;">"C-)"</span>) 'pgw/reset-font-size)
(define-key global-map (kbd <span style="color: #7984D1;">"C-H-0"</span>) 'pgw/set-font-size)
(define-key global-map (kbd <span style="color: #7984D1;">"C-+"</span>) 'pgw/increase-font-size)
(define-key global-map (kbd <span style="color: #7984D1;">"C-="</span>) 'pgw/increase-font-size)
(define-key global-map (kbd <span style="color: #7984D1;">"C-_"</span>) 'pgw/decrease-font-size)
(define-key global-map (kbd <span style="color: #7984D1;">"C--"</span>) 'pgw/decrease-font-size)

(add-hook 'emacs-startup-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (pgw/reset-font-size)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org136b05e" class="outline-4">
<h4 id="org136b05e"><span class="section-number-4">4.9.3</span> Variable Pitch Default Font</h4>
<div class="outline-text-4" id="text-4-9-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'variable-pitch nil <span style="color: #1ea8fc;">:family</span> <span style="color: #7984D1;">"Avenir Next"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge994f7e" class="outline-4">
<h4 id="orge994f7e"><span class="section-number-4">4.9.4</span> Mixed Pitch</h4>
<div class="outline-text-4" id="text-4-9-4">
<p>
Mixed pitch package for mixing variable and monospace fonts where appropriate (replacing buffer-face-mode).
</p>

<p>
I copied mixed-pitch.el from <a href="https://gitlab.com/jabranham/mixed-pitch/">this</a> repository because of <a href="https://gitlab.com/jabranham/mixed-pitch/issues/6">this</a> issue. I will hopefully be changing it back at some point (or coming up with a better fix because the fonts don't seem to work great together) but for now this will be the fix.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">mixed-pitch</span>
  <span style="color: #1ea8fc;">:load-path</span> <span style="color: #7984D1;">"custom_load"</span>
  <span style="color: #1ea8fc;">:config</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">(set-face-attribute 'variable-pitch :height 160)</span>
  (<span style="color: #ff2afc; font-weight: bold;">dolist</span> (face '(line-number line-number-current-line org-list-dt org-link)) (add-to-list 'mixed-pitch-fixed-pitch-faces face))
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">(add-hook 'text-mode-hook 'mixed-pitch-mode)</span>
  (global-set-key (kbd <span style="color: #7984D1;">"C-x v f"</span>) 'mixed-pitch-mode)
  )
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5c4f7dc" class="outline-3">
<h3 id="org5c4f7dc"><span class="section-number-3">4.10</span> GPG</h3>
<div class="outline-text-3" id="text-4-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;; </span><span style="color: #546A90;">(require 'epa-file)</span>
(epa-file-enable)
(<span style="color: #ff2afc; font-weight: bold;">setf</span> epa-pinentry-mode 'loopback)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfbfc9e6" class="outline-3">
<h3 id="orgfbfc9e6"><span class="section-number-3">4.11</span> Passwords</h3>
<div class="outline-text-3" id="text-4-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(load-file <span style="color: #7984D1;">"~/.passwords.el"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a287ec" class="outline-3">
<h3 id="org8a287ec"><span class="section-number-3">4.12</span> Mode Line</h3>
<div class="outline-text-3" id="text-4-12">
<p>
Still figuring this out, just switched to powerline!
</p>
</div>

<div id="outline-container-orge01f0a4" class="outline-4">
<h4 id="orge01f0a4"><span class="section-number-4">4.12.1</span> <span class="done DISABLED">DISABLED</span> Smart Mode Line</h4>
<div class="outline-text-4" id="text-4-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">smart-mode-line</span>
  <span style="color: #1ea8fc;">:config</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> rm-blacklist '(<span style="color: #7984D1;">" hl-p"</span> <span style="color: #7984D1;">" WK"</span> <span style="color: #7984D1;">" yas"</span> <span style="color: #7984D1;">" Undo-Tree"</span> <span style="color: #7984D1;">" hs"</span>)
        <span style="color: #546A90;">;; </span><span style="color: #546A90;">sml/theme 'light</span>
        sml/name-width 30
        )
  (add-to-list 'sml/replacer-regexp-list '(<span style="color: #7984D1;">"^~/Google Drive/OHS/</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">(</span><span style="color: #7984D1;">[0-9]\\{2\\}</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">)</span><span style="color: #7984D1;">th Grade/Classes/Semester [0-9]/</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">(</span><span style="color: #7984D1;">[0-9A-Z]*</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">)</span><span style="color: #7984D1;">/"</span> <span style="color: #7984D1;">":\\2:"</span>))
  (add-hook 'after-init-hook 'sml/setup)
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c2a223" class="outline-4">
<h4 id="org3c2a223"><span class="section-number-4">4.12.2</span> Powerline</h4>
<div class="outline-text-4" id="text-4-12-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">powerline</span>
  <span style="color: #1ea8fc;">:ensure</span> t
  <span style="color: #1ea8fc;">:config</span> (powerline-default-theme))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga02edcb" class="outline-4">
<h4 id="orga02edcb"><span class="section-number-4">4.12.3</span> Other Configuration</h4>
<div class="outline-text-4" id="text-4-12-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(size-indication-mode 1)
(line-number-mode -1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf950949" class="outline-4">
<h4 id="orgf950949"><span class="section-number-4">4.12.4</span> <span class="done DISABLED">DISABLED</span> Time display</h4>
<div class="outline-text-4" id="text-4-12-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> display-time-format <span style="color: #7984D1;">"%a %m/%d %H:%M"</span>)
(display-time-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8baa44" class="outline-4">
<h4 id="orgb8baa44"><span class="section-number-4">4.12.5</span> <span class="done DISABLED">DISABLED</span> Battery display</h4>
<div class="outline-text-4" id="text-4-12-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> battery-mode-line-format <span style="color: #7984D1;">" [%b%p%%]"</span>)
(display-battery-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3d23e85" class="outline-3">
<h3 id="org3d23e85"><span class="section-number-3">4.13</span> Narrowing Frameworks</h3>
<div class="outline-text-3" id="text-4-13">
</div>
<div id="outline-container-org7a65331" class="outline-4">
<h4 id="org7a65331"><span class="section-number-4">4.13.1</span> <span class="done DISABLED">DISABLED</span> Helm</h4>
<div class="outline-text-4" id="text-4-13-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">helm</span>
  <span style="color: #1ea8fc;">:config</span>
  (<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">helm-config</span>)
  (helm-mode 1)
  (define-key global-map [remap find-file] 'helm-find-files)
  (define-key global-map [remap occur] 'helm-occur)
  (define-key global-map [remap list-buffers] 'helm-buffers-list)
  (define-key global-map [remap dabbrev-expand] 'helm-dabbrev)
  (define-key global-map [remap execute-extended-command] 'helm-M-x)
  (<span style="color: #ff2afc; font-weight: bold;">unless</span> (boundp 'completion-in-region-function)
    (define-key lisp-interaction-mode-map [remap completion-at-point] 'helm-lisp-completion-at-point)
    (define-key emacs-lisp-mode-map       [remap completion-at-point] 'helm-lisp-completion-at-point))
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0bf378" class="outline-4">
<h4 id="orge0bf378"><span class="section-number-4">4.13.2</span> Ivy</h4>
<div class="outline-text-4" id="text-4-13-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">ivy</span>
  <span style="color: #1ea8fc;">:config</span>
  (ivy-mode 1)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> ivy-use-virtual-buffers t)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> enable-recursive-minibuffers t)
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">enable this if you want `</span><span style="color: #df85ff; font-weight: bold;">swiper</span><span style="color: #546A90;">' to use it</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">(setq search-default-mode #'char-fold-to-regexp)</span>
  (global-set-key <span style="color: #7984D1;">"\C-s"</span> 'swiper)
  (global-set-key (kbd <span style="color: #7984D1;">"C-c C-r"</span>) 'ivy-resume)
  (global-set-key (kbd <span style="color: #7984D1;">"&lt;f6&gt;"</span>) 'ivy-resume)
  (global-set-key (kbd <span style="color: #7984D1;">"M-x"</span>) 'counsel-M-x)
  (global-set-key (kbd <span style="color: #7984D1;">"C-x C-f"</span>) 'counsel-find-file)
  (global-set-key (kbd <span style="color: #7984D1;">"&lt;f1&gt; f"</span>) 'counsel-describe-function)
  (global-set-key (kbd <span style="color: #7984D1;">"&lt;f1&gt; v"</span>) 'counsel-describe-variable)
  (global-set-key (kbd <span style="color: #7984D1;">"&lt;f1&gt; o"</span>) 'counsel-describe-symbol)
  (global-set-key (kbd <span style="color: #7984D1;">"&lt;f1&gt; l"</span>) 'counsel-find-library)
  (global-set-key (kbd <span style="color: #7984D1;">"&lt;f2&gt; i"</span>) 'counsel-info-lookup-symbol)
  (global-set-key (kbd <span style="color: #7984D1;">"&lt;f2&gt; u"</span>) 'counsel-unicode-char)
  (global-set-key (kbd <span style="color: #7984D1;">"C-c g"</span>) 'counsel-git)
  (global-set-key (kbd <span style="color: #7984D1;">"C-c j"</span>) 'counsel-git-grep)
  (global-set-key (kbd <span style="color: #7984D1;">"C-c k"</span>) 'counsel-ag)
  (global-set-key (kbd <span style="color: #7984D1;">"C-x l"</span>) 'counsel-locate)
  (global-set-key (kbd <span style="color: #7984D1;">"C-S-o"</span>) 'counsel-rhythmbox)
  (define-key minibuffer-local-map (kbd <span style="color: #7984D1;">"C-r"</span>) 'counsel-minibuffer-history))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org00a4fc0" class="outline-3">
<h3 id="org00a4fc0"><span class="section-number-3">4.14</span> Diary</h3>
<div class="outline-text-3" id="text-4-14">
</div>
<div id="outline-container-org3841d2c" class="outline-4">
<h4 id="org3841d2c"><span class="section-number-4">4.14.1</span> Diary file</h4>
<div class="outline-text-4" id="text-4-14-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;</span><span style="color: #546A90;">(setq org-agenda-include-diary t)</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> diary-file <span style="color: #7984D1;">"~/Dropbox/org/diary"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org0b0b469" class="outline-4">
<h4 id="org0b0b469"><span class="section-number-4">4.14.2</span> Appointments Setup</h4>
<div class="outline-text-4" id="text-4-14-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(appt-activate -1)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> appt-message-warning-time 15)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> diary-comment-start <span style="color: #7984D1;">"##"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga52a2ac" class="outline-3">
<h3 id="orga52a2ac"><span class="section-number-3">4.15</span> Org-mode</h3>
<div class="outline-text-3" id="text-4-15">
</div>
<div id="outline-container-org655c10f" class="outline-4">
<h4 id="org655c10f"><span class="section-number-4">4.15.1</span> Setting orgmode directories:</h4>
<div class="outline-text-4" id="text-4-15-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-directory <span style="color: #7984D1;">"~/Dropbox/org"</span>)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-default-notes-file (concat org-directory <span style="color: #7984D1;">"/inbox.org"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge8d4607" class="outline-4">
<h4 id="orge8d4607"><span class="section-number-4">4.15.2</span> Startup Settings</h4>
<div class="outline-text-4" id="text-4-15-2">
<p>
Make org-mode files automatically indent.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-startup-indented t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf5996b" class="outline-4">
<h4 id="orgcf5996b"><span class="section-number-4">4.15.3</span> Todo keywords</h4>
<div class="outline-text-4" id="text-4-15-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-todo-keywords
      '((sequence <span style="color: #7984D1;">"NEXT(n)"</span> <span style="color: #7984D1;">"TODO(t)"</span> <span style="color: #7984D1;">"IN-PROGRESS(i)"</span> <span style="color: #7984D1;">"WAITING(w)"</span> <span style="color: #7984D1;">"|"</span> <span style="color: #7984D1;">"DONE(d)"</span> <span style="color: #7984D1;">"CANCELLED(c)"</span> <span style="color: #7984D1;">"DELEGATED(g)"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org410252a" class="outline-4">
<h4 id="org410252a"><span class="section-number-4">4.15.4</span> Keybinds</h4>
<div class="outline-text-4" id="text-4-15-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(define-key global-map <span style="color: #7984D1;">"\C-cc"</span> 'org-capture)
  (global-set-key (kbd <span style="color: #7984D1;">"H-c o"</span>) 
                  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (find-file (concat org-directory <span style="color: #7984D1;">"/school.org"</span>))))
  (global-set-key (kbd <span style="color: #7984D1;">"H-c p"</span>) 
                  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (dired <span style="color: #7984D1;">"~/Google Drive/OHS/11th Grade/Semester 2/"</span>)))
  (global-set-key (kbd <span style="color: #7984D1;">"H-c i"</span>) 
                  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (find-file (concat org-directory <span style="color: #7984D1;">"/projects.org"</span>))))
  (global-set-key (kbd <span style="color: #7984D1;">"H-c v"</span>) 
                  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (find-file (concat org-directory <span style="color: #7984D1;">"/violin.org"</span>))))
  (global-set-key (kbd <span style="color: #7984D1;">"H-c n"</span>) 
                  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (find-file (concat org-directory <span style="color: #7984D1;">"/notes.org"</span>))))
  (global-set-key (kbd <span style="color: #7984D1;">"H-c m"</span>) 
                  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (find-file (concat org-directory <span style="color: #7984D1;">"/music.org"</span>))))
  (global-set-key (kbd <span style="color: #7984D1;">"H-c k"</span>) 
                  (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (find-file (concat org-directory <span style="color: #7984D1;">"/links.org"</span>))))

  <span style="color: #546A90;">;;; </span><span style="color: #546A90;">Agenda key (C-c a) and other settings</span>
  (global-set-key <span style="color: #7984D1;">"\C-cl"</span> 'org-store-link)
  (global-set-key <span style="color: #7984D1;">"\C-ca"</span> 'org-agenda)
  (global-set-key <span style="color: #7984D1;">"\C-cc"</span> 'org-capture)
  (global-set-key <span style="color: #7984D1;">"\C-cb"</span> 'org-switchb)

  (<span style="color: #ff2afc; font-weight: bold;">evil-define-key</span> 'normal org-mode-map <span style="color: #7984D1;">"&lt;&lt;"</span> 'org-promote-subtree)
  (<span style="color: #ff2afc; font-weight: bold;">evil-define-key</span> 'normal org-mode-map <span style="color: #7984D1;">"&gt;&gt;"</span> 'org-demote-subtree)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgefa447a" class="outline-4">
<h4 id="orgefa447a"><span class="section-number-4">4.15.5</span> Tags</h4>
<div class="outline-text-4" id="text-4-15-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-tag-persistent-alist '((<span style="color: #7984D1;">"email"</span> . ?e)
                                 (<span style="color: #7984D1;">"noexport"</span> . ?N)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf22e2d7" class="outline-4">
<h4 id="orgf22e2d7"><span class="section-number-4">4.15.6</span> Log when tasks are marked as done:</h4>
<div class="outline-text-4" id="text-4-15-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-log-done 'time) <span style="color: #546A90;">; </span><span style="color: #546A90;">Log when task marked as done</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5814b77" class="outline-4">
<h4 id="org5814b77"><span class="section-number-4">4.15.7</span> Org Refile:</h4>
<div class="outline-text-4" id="text-4-15-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/refile-targets (file-expand-wildcards <span style="color: #7984D1;">"~/Dropbox/org/*.org"</span>))
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-refile-targets '((nil <span style="color: #1ea8fc;">:maxlevel</span> . 9)
                           (org-agenda-files <span style="color: #1ea8fc;">:maxlevel</span> . 9)
                           (pgw/refile-targets <span style="color: #1ea8fc;">:maxlevel</span> . 9)))
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-refile-use-outline-path 'file)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-outline-path-complete-in-steps nil)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-refile-allow-creating-parent-nodes 'confirm)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb071083" class="outline-4">
<h4 id="orgb071083"><span class="section-number-4">4.15.8</span> Agenda</h4>
<div class="outline-text-4" id="text-4-15-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;; </span><span style="color: #546A90;">org-agenda-auto-exclude-function</span>
(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/org-my-auto-exclude-function</span> (tag)
  (<span style="color: #ff2afc; font-weight: bold;">if</span>
      (string= tag <span style="color: #7984D1;">"officehours"</span>)
      (concat <span style="color: #7984D1;">"-"</span> tag)))
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-agenda-auto-exclude-function 'pgw/org-my-auto-exclude-function)

<span style="color: #546A90;">;</span><span style="color: #546A90;">(setq org-agenda-overriding-columns-format "%28ITEM %TODO %SCHEDULED %DEADLINE %TAGS")</span>

<span style="color: #546A90;">;; </span><span style="color: #546A90;">Re-align tags when window shape changes</span>
(add-hook 'org-agenda-mode-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (add-hook 'window-configuration-change-hook 'org-agenda-align-tags nil t)))

<span style="color: #546A90;">;</span><span style="color: #546A90;">(add-hook 'org-agenda-finalize-hook</span>
<span style="color: #546A90;">;</span><span style="color: #546A90;">         'org-agenda-align-tags)</span>

(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-deadline-warning-days 7)

(add-hook 'org-agenda-finalize-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
            (display-line-numbers-mode -1)
            ))

<span style="color: #546A90;">;; </span><span style="color: #546A90;">Org entries</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-agenda-max-entries nil)
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org016ee90"></a><span class="done DISABLED">DISABLED</span> Hydra for Filtering&#xa0;&#xa0;&#xa0;<span class="tag"><span class="ARCHIVE">ARCHIVE</span></span><br /></li>

<li><a id="org2568bf6"></a>Custom Commands<br />
<div class="outline-text-5" id="text-4-15-8-2">
<p>
Custom commands, testing sorting strategy variable
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-agenda-custom-commands
      '((<span style="color: #7984D1;">"o"</span> . <span style="color: #7984D1;">"OHS"</span>)
        (<span style="color: #7984D1;">"of"</span> . <span style="color: #7984D1;">"OHS Friend Schedules"</span>)
        (<span style="color: #7984D1;">"ofa"</span> <span style="color: #7984D1;">"Audrey's Schedule"</span> agenda <span style="color: #7984D1;">""</span>
         ((org-agenda-span 7)
          (org-agenda-files
           (file-expand-wildcards <span style="color: #7984D1;">"~/Dropbox/org/notes/OHS/202021/audrey_classes.org"</span>))))
        (<span style="color: #7984D1;">"ofj"</span> <span style="color: #7984D1;">"Josie's Schedule"</span> agenda <span style="color: #7984D1;">""</span>
         ((org-agenda-span 7)
          (org-agenda-files
           (file-expand-wildcards <span style="color: #7984D1;">"~/Dropbox/org/notes/OHS/202021/josie_classes.org"</span>))))
        (<span style="color: #7984D1;">"ofA"</span> <span style="color: #7984D1;">"Ariana Schedule"</span> agenda <span style="color: #7984D1;">""</span>
         ((org-agenda-span 7)
          (org-agenda-files
           (file-expand-wildcards <span style="color: #7984D1;">"~/Dropbox/org/notes/OHS/202021/ariana_classes.org"</span>))))
        (<span style="color: #7984D1;">"l"</span> <span style="color: #7984D1;">"Logging View"</span> agenda <span style="color: #7984D1;">""</span>
         ((org-agenda-span 1)
          (org-agenda-files
           (file-expand-wildcards <span style="color: #7984D1;">"~/Dropbox/org/*.org"</span>))))
        (<span style="color: #7984D1;">"A"</span> <span style="color: #7984D1;">"General Agenda"</span> agenda <span style="color: #7984D1;">""</span>
         ((org-agenda-span 1)
          (org-agenda-sorting-strategy
           '((agenda habit-down time-up deadline-up)))))
        (<span style="color: #7984D1;">"D"</span> <span style="color: #7984D1;">"College Deadlines"</span> tags-todo <span style="color: #7984D1;">"+collegeapps"</span>)
        (<span style="color: #7984D1;">"Q"</span> . <span style="color: #7984D1;">"Custom queries"</span>)
        (<span style="color: #7984D1;">"Qa"</span> <span style="color: #7984D1;">"Query all (Archive included)"</span> search <span style="color: #7984D1;">""</span>
         ((org-agenda-files (append (file-expand-wildcards (concat org-directory <span style="color: #7984D1;">"/*.org"</span>))
                                    (file-expand-wildcards (concat org-directory <span style="color: #7984D1;">"/*.org_archive"</span>))))))
        (<span style="color: #7984D1;">"Ql"</span> <span style="color: #7984D1;">"Query Links"</span> search <span style="color: #7984D1;">""</span>
         ((org-agenda-files (list (concat org-directory <span style="color: #7984D1;">"/links.org"</span>)
                                  (concat org-directory <span style="color: #7984D1;">"/links.org_archive"</span>)))))))
</pre>
</div>
</div>
</li>

<li><a id="org44b1c67"></a>Files<br />
<div class="outline-text-5" id="text-4-15-8-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-agenda-files (append (file-expand-wildcards <span style="color: #7984D1;">"~/Dropbox/org/*.org"</span>)
                               (file-expand-wildcards <span style="color: #7984D1;">"~/Dropbox/org/calendars/*.org"</span>)))
</pre>
</div>
</div>
</li>

<li><a id="orgb263b5b"></a>Time Grid Variable<br />
<div class="outline-text-5" id="text-4-15-8-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-agenda-time-grid '((daily today require-timed)
                             (600 800 1000 1200 1400 1600 1800 2000 2200)
                             <span style="color: #7984D1;">"......"</span> <span style="color: #7984D1;">"----------------"</span>))
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org43508bc" class="outline-4">
<h4 id="org43508bc"><span class="section-number-4">4.15.9</span> <span class="done DISABLED">DISABLED</span> org-super-agenda</h4>
<div class="outline-text-4" id="text-4-15-9">
<p>
Testing out org-super-agenda. Code kept here in case I want to experiemnt in the future. However, for now, I've decided that tags and filtering is the best option for me.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">org-super-agenda</span>
  <span style="color: #1ea8fc;">:config</span>
  (org-super-agenda-mode)
  )
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-agenda-custom-commands
      '((<span style="color: #7984D1;">"z"</span> <span style="color: #7984D1;">"Super zaen view"</span>
         ((agenda <span style="color: #7984D1;">""</span> ((org-agenda-span 'day)
                      (org-super-agenda-groups
                       '((<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"Text"</span>
                                <span style="color: #1ea8fc;">:time-grid</span> t
                                <span style="color: #1ea8fc;">:date</span> today
                                <span style="color: #1ea8fc;">:todo</span> <span style="color: #7984D1;">"TODO"</span>
                                <span style="color: #1ea8fc;">:scheduled</span> today
                                <span style="color: #1ea8fc;">:deadline</span> today
                                <span style="color: #1ea8fc;">:order</span> 1)
                         (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"School Stuff"</span>
                                <span style="color: #1ea8fc;">:tag</span> <span style="color: #7984D1;">"OHS"</span>
                                <span style="color: #1ea8fc;">:order</span> 2)
                         ))))
          (alltodo <span style="color: #7984D1;">""</span> ((org-agenda-overriding-header <span style="color: #7984D1;">""</span>)
                       (org-super-agenda-groups
                        '((<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"Due Today"</span>
                                 <span style="color: #1ea8fc;">:deadline</span> today
                                 <span style="color: #1ea8fc;">:order</span> 2)
                          (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"OHS"</span>
                                 <span style="color: #1ea8fc;">:tag</span> <span style="color: #7984D1;">"OHS"</span>
                                 <span style="color: #1ea8fc;">:order</span> 10)
                          (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"Due Soon"</span>
                                 <span style="color: #1ea8fc;">:deadline</span> future
                                 <span style="color: #1ea8fc;">:order</span> 8)
                          (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"Overdue"</span>
                                 <span style="color: #1ea8fc;">:deadline</span> past
                                 <span style="color: #1ea8fc;">:order</span> 9)
                          (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"Issues"</span>
                                 <span style="color: #1ea8fc;">:tag</span> <span style="color: #7984D1;">"Issue"</span>
                                 <span style="color: #1ea8fc;">:order</span> 12)
                          (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"Emacs"</span>
                                 <span style="color: #1ea8fc;">:tag</span> <span style="color: #7984D1;">"Emacs"</span>
                                 <span style="color: #1ea8fc;">:order</span> 13)
                          (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"Waiting"</span>
                                 <span style="color: #1ea8fc;">:todo</span> <span style="color: #7984D1;">"WAITING"</span>
                                 <span style="color: #1ea8fc;">:order</span> 20)
                          (<span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"trivial"</span>
                                 <span style="color: #1ea8fc;">:priority&lt;=</span> <span style="color: #7984D1;">"C"</span>
                                 <span style="color: #1ea8fc;">:tag</span> <span style="color: #7984D1;">"someday"</span>
                                 <span style="color: #1ea8fc;">:order</span> 90)
                          (<span style="color: #1ea8fc;">:discard</span> (<span style="color: #1ea8fc;">:habit</span> t)
                                    )))))))
        )
      )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgad1e099" class="outline-4">
<h4 id="orgad1e099"><span class="section-number-4">4.15.10</span> Quick Capture</h4>
<div class="outline-text-4" id="text-4-15-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/year-month</span> ()
  <span style="color: #A875FF;">"Custom function to return date in format: YYYY-MM"</span>
  (format-time-string <span style="color: #7984D1;">"%Y-%m"</span>))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/U</span> ()
  <span style="color: #A875FF;">"Custom function to return date in org inactive timestamp format"</span>
  (format-time-string <span style="color: #7984D1;">"[%Y-%m-%d %a]"</span>))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/add-12</span> ()
  <span style="color: #A875FF;">"Custom function return active org timestamp with exactly 24 hour difference"</span>
  (format-time-string <span style="color: #7984D1;">"%Y-%m-%d %a %H:%M"</span> (time-add (current-time) 85500)))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/headline_date</span> ()
  <span style="color: #A875FF;">"Function to find the date as headline for Violin capture template"</span>
  (goto-char (point-min))
  (<span style="color: #ff2afc; font-weight: bold;">let</span> ((searchresults (search-forward (format-time-string <span style="color: #7984D1;">"[%Y-%m-%d %a]"</span>) nil t)))
    (<span style="color: #ff2afc; font-weight: bold;">if</span> searchresults
        'searchresults
      (<span style="color: #ffd400;">error</span> <span style="color: #7984D1;">"Not found! Use Vc to create today's practice first."</span>)
      )
    )
  )

(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-capture-templates
      '(
(<span style="color: #7984D1;">"i"</span> <span style="color: #7984D1;">"Inbox"</span>)
(<span style="color: #7984D1;">"ii"</span> <span style="color: #7984D1;">"Inbox Entry"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/inbox.org"</span>)
<span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">"</span>)
(<span style="color: #7984D1;">"il"</span> <span style="color: #7984D1;">"Inbox w/ Link"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/inbox.org"</span>)
<span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">%a</span>
<span style="color: #7984D1;">"</span>)
(<span style="color: #7984D1;">"in"</span> <span style="color: #7984D1;">"Quick Note"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/inbox.org"</span>)
<span style="color: #7984D1;">"* %?</span>
<span style="color: #7984D1;">%U"</span>)
(<span style="color: #7984D1;">"e"</span> <span style="color: #7984D1;">"Events"</span>)
(<span style="color: #7984D1;">"ef"</span> <span style="color: #7984D1;">"Emacs Event (Not synced)"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/events.org"</span>)
 <span style="color: #7984D1;">"* %?"</span>)
(<span style="color: #7984D1;">"ee"</span> <span style="color: #7984D1;">"Emacs Calendar (Limbo)"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/events.org"</span>)
 <span style="color: #7984D1;">"* %^{Title of event}</span>
<span style="color: #7984D1;">SCHEDULED: %^{Scheduled time + duration}T</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:calendar-id: ihfv2u5n9uf5ksj5484vbe7mj4@group.calendar.google.com</span>
<span style="color: #7984D1;">:END:</span>
<span style="color: #7984D1;">:org-gcal:%?</span>
<span style="color: #7984D1;">:END:"</span> <span style="color: #1ea8fc;">:jump-to-captured</span> t)
(<span style="color: #7984D1;">"ep"</span> <span style="color: #7984D1;">"Gmail Calendar (Limbo)"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/events.org"</span>)
 <span style="color: #7984D1;">"* %^{Title of event}</span>
<span style="color: #7984D1;">SCHEDULED: %^{Scheduled time + duration}T</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:calendar-id: pierce.g.wang@gmail.com</span>
<span style="color: #7984D1;">:END:</span>
<span style="color: #7984D1;">:org-gcal:%?</span>
<span style="color: #7984D1;">:END:"</span> <span style="color: #1ea8fc;">:jump-to-captured</span> t)
(<span style="color: #7984D1;">"es"</span> <span style="color: #7984D1;">"SFCM Calendar (Limbo)"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/sfcm.org"</span>)
 <span style="color: #7984D1;">"* %^{Title of event}</span>
<span style="color: #7984D1;">SCHEDULED: %^{Scheduled time + duration}T</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:calendar-id: taiu2dsr8o29c09m7nn1n21t9o@group.calendar.google.com</span>
<span style="color: #7984D1;">:END:</span>
<span style="color: #7984D1;">:org-gcal:%?</span>
<span style="color: #7984D1;">:END:"</span> <span style="color: #1ea8fc;">:jump-to-captured</span> t)
(<span style="color: #7984D1;">"L"</span> <span style="color: #7984D1;">"Link"</span> entry (file+headline <span style="color: #7984D1;">"~/Dropbox/org/links.org"</span> <span style="color: #7984D1;">"!Inbox"</span>)
<span style="color: #7984D1;">"* [[%?%:link][%:description]]</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:CREATED:  %U</span>
<span style="color: #7984D1;">:END:"</span> <span style="color: #1ea8fc;">:prepend</span> t)
(<span style="color: #7984D1;">"g"</span> <span style="color: #7984D1;">"Manual"</span> entry (file <span style="color: #7984D1;">"~/Dropbox/org/notes.org"</span>)
<span style="color: #7984D1;">"* %?</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:CREATED:  %U</span>
<span style="color: #7984D1;">:END:"</span> <span style="color: #1ea8fc;">:empty-lines</span> 1)
(<span style="color: #7984D1;">"b"</span> <span style="color: #7984D1;">"Book"</span> entry (file+headline <span style="color: #7984D1;">"~/Dropbox/org/notes.org"</span> <span style="color: #7984D1;">"Books"</span>)
 <span style="color: #7984D1;">"* %^{RATING}p%^{Book Title}"</span>)
(<span style="color: #7984D1;">"j"</span> <span style="color: #7984D1;">"Journal"</span> entry
(file+olp+datetree <span style="color: #7984D1;">"~/Dropbox/org/orgjournal.org.gpg"</span>)
<span style="color: #7984D1;">"* %?</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:LOGGED: %^{Logged Time}U</span>
<span style="color: #7984D1;">:END:</span>
<span style="color: #7984D1;">"</span> <span style="color: #1ea8fc;">:kill-buffer</span> t)
(<span style="color: #7984D1;">"m"</span> <span style="color: #7984D1;">"Mail"</span>)
(<span style="color: #7984D1;">"mt"</span> <span style="color: #7984D1;">"Mail task"</span> entry
 (file <span style="color: #7984D1;">"~/Dropbox/org/inbox.org"</span>)
 <span style="color: #7984D1;">"* NEXT %? :email:</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:EMAIL: %a</span>
<span style="color: #7984D1;">:SENDER: %:from</span>
<span style="color: #7984D1;">:END:\n"</span>)
(<span style="color: #7984D1;">"mn"</span> <span style="color: #7984D1;">"Mail note"</span> entry
 (file <span style="color: #7984D1;">"~/Dropbox/org/inbox.org"</span>)
 <span style="color: #7984D1;">"* %? :email:</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:EMAIL: %a</span>
<span style="color: #7984D1;">:SENDER: %:from</span>
<span style="color: #7984D1;">:END:\n"</span>)
(<span style="color: #7984D1;">"S"</span> <span style="color: #7984D1;">"School"</span>)
(<span style="color: #7984D1;">"St"</span> <span style="color: #7984D1;">"School Tasks"</span>)
(<span style="color: #7984D1;">"Stj"</span> <span style="color: #7984D1;">"OCS15 - T/Th"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OCS15_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: %^{Deadline}T\n"</span>)
(<span style="color: #7984D1;">"Stm"</span> <span style="color: #7984D1;">"UM51A - T/Th"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_UM51A_"</span>)
 <span style="color: #7984D1;">"**** NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: %^{Deadline}T\n"</span>)
(<span style="color: #7984D1;">"Sts"</span> <span style="color: #7984D1;">"OPS10 - M/W"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OPS10_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: %^{Deadline}T\n"</span>)
(<span style="color: #7984D1;">"Stp"</span> <span style="color: #7984D1;">"OP051 - M/W"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OP051_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: %^{Deadline}T\n"</span>)
(<span style="color: #7984D1;">"Stc"</span> <span style="color: #7984D1;">"OCRA1 - M/W"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OCRA1_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: %^{Deadline}T\n"</span>)
(<span style="color: #7984D1;">"Sr"</span> <span style="color: #7984D1;">"School Readings"</span>)
(<span style="color: #7984D1;">"Srj"</span> <span style="color: #7984D1;">"OCS15 - T/Th"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OCS15_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: &lt;%&lt;%Y-%m-%d %a 07:15&gt;&gt;\n"</span>)
(<span style="color: #7984D1;">"Srm"</span> <span style="color: #7984D1;">"UM51A - T/Th"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_UM51A_"</span>)
 <span style="color: #7984D1;">"**** NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: &lt;%&lt;%Y-%m-%d %a 08:30&gt;&gt;\n"</span>)
(<span style="color: #7984D1;">"Srs"</span> <span style="color: #7984D1;">"OPS10 - M/W"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OPS10_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: &lt;%&lt;%Y-%m-%d %a 11:00&gt;&gt;\n"</span>)
(<span style="color: #7984D1;">"Srp"</span> <span style="color: #7984D1;">"OP051 - M/W"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OP051_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: &lt;%&lt;%Y-%m-%d %a 14:45&gt;&gt;\n"</span>)
(<span style="color: #7984D1;">"Src"</span> <span style="color: #7984D1;">"OCRA1 - M/W"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/school.org"</span> <span style="color: #7984D1;">"_OCRA1_"</span>)
 <span style="color: #7984D1;">"* NEXT %?</span>
<span style="color: #7984D1;">DEADLINE: &lt;%&lt;%Y-%m-%d %a 09:45&gt;&gt;\n"</span>)
(<span style="color: #7984D1;">"M"</span> <span style="color: #7984D1;">"Music"</span>)
(<span style="color: #7984D1;">"Mc"</span> <span style="color: #7984D1;">"Conducting Homework"</span> entry
 (file+headline <span style="color: #7984D1;">"~/Dropbox/org/music.org"</span> <span style="color: #7984D1;">"Homework"</span>)
 <span style="color: #7984D1;">"* TODO Conducting Homework</span>
<span style="color: #7984D1;">DEADLINE: %^t</span>
<span style="color: #7984D1;">- %?"</span>)
(<span style="color: #7984D1;">"V"</span> <span style="color: #7984D1;">"Violin"</span>)
(<span style="color: #7984D1;">"Vc"</span> <span style="color: #7984D1;">"Create Practice Entry"</span> entry
 (file+olp <span style="color: #7984D1;">"~/Dropbox/org/violin.org"</span> <span style="color: #7984D1;">"Practice Log"</span>)
 <span style="color: #7984D1;">"* [%&lt;%Y-%m-%d %a&gt;]</span>
<span style="color: #7984D1;">%t%?"</span>)
(<span style="color: #7984D1;">"Vd"</span> <span style="color: #7984D1;">"Add practice details"</span> item
 (file+function <span style="color: #7984D1;">"~/Dropbox/org/violin.org"</span> pgw/headline_date)
 <span style="color: #7984D1;">"%?"</span>)
(<span style="color: #7984D1;">"f"</span> <span style="color: #7984D1;">"Fun"</span>)
(<span style="color: #7984D1;">"fc"</span> <span style="color: #7984D1;">"Cookie Clicker Save"</span> entry
 (file+olp <span style="color: #7984D1;">"~/Dropbox/org/notes.org"</span> <span style="color: #7984D1;">"Cookie Clicker Run [2020-09-14 Mon]"</span>)
 <span style="color: #7984D1;">"* %U</span>
<span style="color: #7984D1;">%?</span>
<span style="color: #7984D1;">: %c</span>
<span style="color: #7984D1;">"</span>)
(<span style="color: #7984D1;">"q"</span> <span style="color: #7984D1;">"Quotes"</span> entry
 (file+olp <span style="color: #7984D1;">"~/Dropbox/org/notes.org"</span> <span style="color: #7984D1;">"Quotes"</span>)
 <span style="color: #7984D1;">"* %?</span>
<span style="color: #7984D1;">:PROPERTIES:</span>
<span style="color: #7984D1;">:DATE:     %U</span>
<span style="color: #7984D1;">:END:</span>
<span style="color: #7984D1;">%^{FROM}p</span>
<span style="color: #7984D1;">"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd27f930" class="outline-4">
<h4 id="orgd27f930"><span class="section-number-4">4.15.11</span> MobileOrg</h4>
<div class="outline-text-4" id="text-4-15-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;; </span><span style="color: #546A90;">Set to the name of the file where new notes will be stored</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-mobile-inbox-for-pull <span style="color: #7984D1;">"~/Dropbox/Apps/MobileOrg/index.org"</span>)
<span style="color: #546A90;">;; </span><span style="color: #546A90;">Set to &lt;your Dropbox root directory&gt;/MobileOrg.</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-mobile-directory <span style="color: #7984D1;">"~/Dropbox/Apps/MobileOrg"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge35b245" class="outline-4">
<h4 id="orge35b245"><span class="section-number-4">4.15.12</span> Crypt</h4>
<div class="outline-text-4" id="text-4-15-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">org-crypt</span>
  <span style="color: #1ea8fc;">:load-path</span> <span style="color: #7984D1;">"elpa/org-9.2.3"</span>
  <span style="color: #1ea8fc;">:config</span>
  (org-crypt-use-before-save-magic)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> org-tags-exclude-from-inheritance (<span style="color: #ff2afc; font-weight: bold;">quote</span> (<span style="color: #7984D1;">"crypt"</span>)))

  (<span style="color: #ff2afc; font-weight: bold;">setq</span> org-crypt-key <span style="color: #7984D1;">"3C44F187958295E4"</span>)
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">GPG key to use for encryption</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Either the Key ID or set to nil to use symmetric encryption.</span>

  (<span style="color: #ff2afc; font-weight: bold;">setq</span> auto-save-default nil)
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Auto-saving does not cooperate with org-crypt.el: so you need</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">to turn it off if you plan to use org-crypt.el quite often.</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">Otherwise, you'll get an (annoying) message each time you</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">start Org.</span>

  <span style="color: #546A90;">;; </span><span style="color: #546A90;">To turn it off only locally, you can insert this:</span>
  <span style="color: #546A90;">;;</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;"># -*- buffer-auto-save-file-name: nil; -*-</span>
  <span style="color: #1ea8fc;">:bind</span> ((<span style="color: #7984D1;">"C-c s-d e"</span> . org-encrypt-entry)
         (<span style="color: #7984D1;">"C-c s-d d"</span> . org-decrypt-entry))
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-org2b61900" class="outline-4">
<h4 id="org2b61900"><span class="section-number-4">4.15.13</span> Babel</h4>
<div class="outline-text-4" id="text-4-15-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">with-eval-after-load</span> 'org
  (org-babel-do-load-languages 'org-babel-load-languages
                               '((python . t)
                                 )))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4b6541" class="outline-4">
<h4 id="orga4b6541"><span class="section-number-4">4.15.14</span> Org-drill</h4>
<div class="outline-text-4" id="text-4-15-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;;; </span><span style="color: #546A90;">org-drill</span>
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">org-drill</span>
  <span style="color: #1ea8fc;">:load-path</span> <span style="color: #7984D1;">"custom_load"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org33d016d" class="outline-4">
<h4 id="org33d016d"><span class="section-number-4">4.15.15</span> Latex</h4>
<div class="outline-text-4" id="text-4-15-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">ox-latex</span>)
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org3d0f72a"></a>CDLatex<br />
<div class="outline-text-5" id="text-4-15-15-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">cdlatex</span>
  <span style="color: #1ea8fc;">:after</span> org
  <span style="color: #1ea8fc;">:config</span>
  (define-key org-cdlatex-mode-map (kbd <span style="color: #7984D1;">"H-d"</span>) 'cdlatex-dollar)
  (define-key cdlatex-mode-map (kbd <span style="color: #7984D1;">"H-d"</span>) 'cdlatex-dollar)
  (add-hook 'org-mode-hook #'org-cdlatex-mode)
  )
</pre>
</div>
</div>
</li>

<li><a id="org8c858da"></a>Fragments<br />
<div class="outline-text-5" id="text-4-15-15-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-format-latex-options
      <span style="color: #546A90;">;; </span><span style="color: #546A90;">'(:foreground "#000000" :background default ;; light theme</span>
      '(<span style="color: #1ea8fc;">:foreground</span> <span style="color: #7984D1;">"#d6d6d4"</span> <span style="color: #1ea8fc;">:background</span> default <span style="color: #546A90;">;; </span><span style="color: #546A90;">dark theme</span>
                    <span style="color: #1ea8fc;">:scale</span> 1.4
                    <span style="color: #1ea8fc;">:html-foreground</span> <span style="color: #7984D1;">"Black"</span> <span style="color: #1ea8fc;">:html-background</span> <span style="color: #7984D1;">"Transparent"</span>
                    <span style="color: #1ea8fc;">:html-scale</span> 1.0 
                    <span style="color: #1ea8fc;">:matchers</span> (<span style="color: #7984D1;">"begin"</span> <span style="color: #7984D1;">"$1"</span> <span style="color: #7984D1;">"$"</span> <span style="color: #7984D1;">"$$"</span> <span style="color: #7984D1;">"</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">(</span><span style="color: #7984D1;">"</span> <span style="color: #7984D1;">"\\["</span>)))
</pre>
</div>

<p>
Fix color handling in org-preview-latex-fragment
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">let</span> ((dvipng--plist (alist-get 'dvipng org-preview-latex-process-alist)))
  (plist-put dvipng--plist <span style="color: #1ea8fc;">:use-xcolor</span> t)
  (plist-put dvipng--plist <span style="color: #1ea8fc;">:image-converter</span> '(<span style="color: #7984D1;">"dvipng -D %D -T tight -o %O %f"</span>)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #7984D1;">"C-c C-x C-l"</span>) 'org-toggle-latex-fragment)
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org54f7395" class="outline-4">
<h4 id="org54f7395"><span class="section-number-4">4.15.16</span> Org Superstar (Bullets revamped)</h4>
<div class="outline-text-4" id="text-4-15-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">org-superstar</span>
  <span style="color: #1ea8fc;">:config</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> org-superstar-prettify-item-bullets 'nil)
  <span style="color: #1ea8fc;">:hook</span> (org-mode . org-superstar-mode))

</pre>
</div>
</div>
</div>

<div id="outline-container-org616eb63" class="outline-4">
<h4 id="org616eb63"><span class="section-number-4">4.15.17</span> Export</h4>
<div class="outline-text-4" id="text-4-15-17">
</div>
<ol class="org-ol">
<li><a id="org109a7e4"></a>Async Init File:<br />
<div class="outline-text-5" id="text-4-15-17-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-export-async-init-file <span style="color: #7984D1;">"~/.emacs.d/orgasyncinit.el"</span>)
</pre>
</div>
</div>
</li>

<li><a id="orgdb21310"></a>Export Publishing<br />
<div class="outline-text-5" id="text-4-15-17-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">ox-publish</span>)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-publish-project-alist
      '((<span style="color: #7984D1;">"pages-notes"</span>
         <span style="color: #1ea8fc;">:base-directory</span> <span style="color: #7984D1;">"~/Dropbox/org_publish/"</span>
         <span style="color: #1ea8fc;">:base-extension</span> <span style="color: #7984D1;">"org"</span>
         <span style="color: #1ea8fc;">:publishing-directory</span> <span style="color: #7984D1;">"~/Documents/Projects/Github/github_pages/"</span>
         <span style="color: #1ea8fc;">:recursive</span> t
         <span style="color: #1ea8fc;">:publishing-function</span> org-html-publish-to-html
         <span style="color: #1ea8fc;">:headline-levels</span> 4             <span style="color: #546A90;">; </span><span style="color: #546A90;">Just the default for this project.</span>
         <span style="color: #546A90;">;; </span><span style="color: #546A90;">:html-head "&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\"/&gt;"</span>
         <span style="color: #1ea8fc;">:auto-preamble</span> t
         )
        (<span style="color: #7984D1;">"pages-static"</span>
         <span style="color: #1ea8fc;">:base-directory</span> <span style="color: #7984D1;">"~/Dropbox/org_publish/"</span>
         <span style="color: #1ea8fc;">:base-extension</span> <span style="color: #7984D1;">"css</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">js</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">png</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">jpg</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">gif</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">pdf</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">mp3</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">ogg</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">swf</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">jpeg"</span>
         <span style="color: #1ea8fc;">:publishing-directory</span> <span style="color: #7984D1;">"~/Documents/Projects/Github/github_pages/"</span>
         <span style="color: #1ea8fc;">:recursive</span> t
         <span style="color: #1ea8fc;">:publishing-function</span> org-publish-attachment
         )
        (<span style="color: #7984D1;">"pages"</span> <span style="color: #1ea8fc;">:components</span> (<span style="color: #7984D1;">"pages-notes"</span> <span style="color: #7984D1;">"pages-static"</span>))
        ))
</pre>
</div>
</div>
</li>

<li><a id="orgc4ad109"></a>HTML<br />
<div class="outline-text-5" id="text-4-15-17-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-html-validation-link nil)
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org4ed0c4c" class="outline-4">
<h4 id="org4ed0c4c"><span class="section-number-4">4.15.18</span> org-noter: PDF Annotation</h4>
<div class="outline-text-4" id="text-4-15-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">org-noter</span>
  <span style="color: #1ea8fc;">:after</span> org
  <span style="color: #1ea8fc;">:ensure</span> t
  <span style="color: #1ea8fc;">:config</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> org-noter-default-notes-file-names '(<span style="color: #7984D1;">"notes.org"</span>)
        org-noter-notes-search-path '(<span style="color: #7984D1;">"~/Dropbox/org/notes"</span>))
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgff4f453" class="outline-4">
<h4 id="orgff4f453"><span class="section-number-4">4.15.19</span> <span class="todo TODO">TODO</span> Diary</h4>
<div class="outline-text-4" id="text-4-15-19">
<p>
Use <code>(org-agenda-to-appt)</code> to add events to reminders.
</p>
</div>
</div>

<div id="outline-container-orga9c274b" class="outline-4">
<h4 id="orga9c274b"><span class="section-number-4">4.15.20</span> org-gcal: Calendar Integration</h4>
<div class="outline-text-4" id="text-4-15-20">
<p>
Calendar Setup:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">org-gcal</span>
  <span style="color: #1ea8fc;">:ensure</span> t
  <span style="color: #1ea8fc;">:demand</span> t
  <span style="color: #1ea8fc;">:bind</span> ((<span style="color: #7984D1;">"C-c s-g p"</span> . org-gcal-post-at-point)
         (<span style="color: #7984D1;">"C-c s-g s"</span> . org-gcal-sync)
         (<span style="color: #7984D1;">"C-c s-g f"</span> . org-gcal-fetch)
         (<span style="color: #7984D1;">"C-c s-g d"</span> . org-gcal-delete-at-point)
         (<span style="color: #7984D1;">"C-c s-g b s"</span> . org-gcal-sync-buffer)
         (<span style="color: #7984D1;">"C-c s-g b f"</span> . org-gcal-sync-buffer))
  <span style="color: #1ea8fc;">:config</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> org-gcal-client-id <span style="color: #7984D1;">"439150530674-aab9ti8n7t80r001qmccgb2i52005f18.apps.googleusercontent.com"</span>
        org-gcal-client-secret <span style="color: #7984D1;">"5gUN_ML-yaAgdS6eg4hAZ9qo"</span>
        org-gcal-file-alist '((<span style="color: #7984D1;">"pierce.g.wang@gmail.com"</span> .  <span style="color: #7984D1;">"~/Dropbox/org/calendars/cal_gmail.org"</span>)
                              (<span style="color: #7984D1;">"ihfv2u5n9uf5ksj5484vbe7mj4@group.calendar.google.com"</span> . <span style="color: #7984D1;">"~/Dropbox/org/calendars/cal_emacs.org"</span>)
                              (<span style="color: #7984D1;">"taiu2dsr8o29c09m7nn1n21t9o@group.calendar.google.com"</span> . <span style="color: #7984D1;">"~/Dropbox/org/calendars/cal_sfcm.org"</span>)))
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> org-gcal-notify-p nil)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> org-gcal-remove-api-cancelled-events t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcce7bc" class="outline-4">
<h4 id="orgdcce7bc"><span class="section-number-4">4.15.21</span> org-reveal</h4>
<div class="outline-text-4" id="text-4-15-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-reveal-root <span style="color: #7984D1;">"file:///Users/piercewang/Documents/projects/revealjs/reveal.js-4.1.0"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org39b78c5" class="outline-3">
<h3 id="org39b78c5"><span class="section-number-3">4.16</span> LaTeX</h3>
<div class="outline-text-3" id="text-4-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> TeX-engine 'xetex)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> latex-run-command <span style="color: #7984D1;">"xetex"</span>)
</pre>
</div>
</div>

<div id="outline-container-org206727b" class="outline-4">
<h4 id="org206727b"><span class="section-number-4">4.16.1</span> AUCTEX</h4>
<div class="outline-text-4" id="text-4-16-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">tex</span>
  <span style="color: #1ea8fc;">:ensure</span> auctex
  <span style="color: #1ea8fc;">:defer</span> t
  <span style="color: #1ea8fc;">:config</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> TeX-auto-save t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd20dc12" class="outline-4">
<h4 id="orgd20dc12"><span class="section-number-4">4.16.2</span> Classes - Adding Academic XeTeX Times New Roman Class</h4>
<div class="outline-text-4" id="text-4-16-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">unless</span> (with-no-warnings (find <span style="color: #7984D1;">"Times"</span> org-latex-classes <span style="color: #1ea8fc;">:key</span> 'car
                                <span style="color: #1ea8fc;">:test</span> 'equal))
  (add-to-list 'org-latex-classes
               '(<span style="color: #7984D1;">"Times"</span>
                 <span style="color: #7984D1;">"\\documentclass[12pt]{article}</span>
<span style="color: #7984D1;">\\usepackage{fontspec}</span>
<span style="color: #7984D1;">\\setmainfont{Times New Roman}</span>
<span style="color: #7984D1;">\\usepackage{hyperref}"</span>
                 (<span style="color: #7984D1;">"\\section{%s}"</span> . <span style="color: #7984D1;">"\\section*{%s}"</span>)
                 (<span style="color: #7984D1;">"\\subsection{%s}"</span> . <span style="color: #7984D1;">"\\subsection*{%s}"</span>)
                 (<span style="color: #7984D1;">"\\subsubsection{%s}"</span> . <span style="color: #7984D1;">"\\subsubsection*{%s}"</span>)
                 (<span style="color: #7984D1;">"\\paragraph{%s}"</span> . <span style="color: #7984D1;">"\\paragraph*{%s}"</span>)
                 (<span style="color: #7984D1;">"\\subparagraph{%s}"</span> . <span style="color: #7984D1;">"\\subparagraph*{%s}"</span>))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org47aaa48" class="outline-3">
<h3 id="org47aaa48"><span class="section-number-3">4.17</span> Evil</h3>
<div class="outline-text-3" id="text-4-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">evil</span>
  <span style="color: #1ea8fc;">:config</span>
  (evil-mode t)
  (<span style="color: #ff2afc; font-weight: bold;">dolist</span> (mode '(dired-mode calendar-mode image-mode timer-list-mode messages-buffer-mode bufler-list-mode)) (add-to-list 'evil-emacs-state-modes mode)))
</pre>
</div>
</div>

<div id="outline-container-orgeadceb2" class="outline-4">
<h4 id="orgeadceb2"><span class="section-number-4">4.17.1</span> Normal Mode Keybinds</h4>
<div class="outline-text-4" id="text-4-17-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;; </span><span style="color: #546A90;">(define-key evil-normal-state-map (kbd "&lt;S-return&gt;") [?m ?` ?o escape ?` ?`])</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">(define-key evil-normal-state-map (kbd "&lt;s-S-return&gt;") [?m ?` ?O escape ?` ?`])</span>
(define-key evil-motion-state-map (kbd <span style="color: #7984D1;">"k"</span>) 'evil-previous-visual-line)
(define-key evil-motion-state-map (kbd <span style="color: #7984D1;">"j"</span>) 'evil-next-visual-line)
(define-key evil-motion-state-map (kbd <span style="color: #7984D1;">"g k"</span>) 'evil-previous-line)
(define-key evil-motion-state-map (kbd <span style="color: #7984D1;">"g j"</span>) 'evil-next-line)
(define-key evil-insert-state-map (kbd <span style="color: #7984D1;">"C-a"</span>) 'beginning-of-visual-line)
(define-key evil-insert-state-map (kbd <span style="color: #7984D1;">"C-e"</span>) 'end-of-visual-line)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfffb144" class="outline-3">
<h3 id="orgfffb144"><span class="section-number-3">4.18</span> Programming Environments</h3>
<div class="outline-text-3" id="text-4-18">
<p>
Hide-show minor mode for collapsing functions
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'prog-mode-hook #'hs-minor-mode)
(electric-pair-mode)
</pre>
</div>
</div>

<div id="outline-container-org33e2861" class="outline-4">
<h4 id="org33e2861"><span class="section-number-4">4.18.1</span> Python</h4>
<div class="outline-text-4" id="text-4-18-1">
</div>
<ol class="org-ol">
<li><a id="orgc6b67d7"></a>python-docstring<br />
<div class="outline-text-5" id="text-4-18-1-1">
<p>
Smart Python Docstring Formatting
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">python-docstring</span>
  <span style="color: #1ea8fc;">:load-path</span> <span style="color: #7984D1;">"site-lisp/python-docstring-mode"</span>)
</pre>
</div>
</div>
</li>

<li><a id="orgeaa8d4c"></a>Elpy<br />
<div class="outline-text-5" id="text-4-18-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(elpy-enable)
(add-hook 'elpy-mode-hook
          'python-docstring-mode)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> elpy-rpc-backend <span style="color: #7984D1;">"jedi"</span>)
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org8e1a39f" class="outline-4">
<h4 id="org8e1a39f"><span class="section-number-4">4.18.2</span> Octave</h4>
<div class="outline-text-4" id="text-4-18-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> auto-mode-alist
      (cons '(<span style="color: #7984D1;">"\\.m$"</span> . octave-mode) auto-mode-alist))
(add-hook 'octave-mode-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
            (abbrev-mode 1)
            (auto-fill-mode 1)
            (<span style="color: #ff2afc; font-weight: bold;">if</span> (eq window-system 'x)
                (font-lock-mode 1))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8ed50a" class="outline-4">
<h4 id="orgd8ed50a"><span class="section-number-4">4.18.3</span> Java</h4>
<div class="outline-text-4" id="text-4-18-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">projectile</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">flycheck</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">yasnippet</span> <span style="color: #1ea8fc;">:config</span> (yas-global-mode))
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">lsp-mode</span> <span style="color: #1ea8fc;">:hook</span> ((lsp-mode . lsp-enable-which-key-integration))
  <span style="color: #1ea8fc;">:config</span> (<span style="color: #ff2afc; font-weight: bold;">setq</span> lsp-completion-enable-additional-text-edit nil))
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">hydra</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">company</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">lsp-ui</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">lsp-java</span> <span style="color: #1ea8fc;">:config</span> (add-hook 'java-mode-hook 'lsp))
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">dap-mode</span> <span style="color: #1ea8fc;">:after</span> lsp-mode <span style="color: #1ea8fc;">:config</span> (dap-auto-configure-mode))
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">dap-java</span> <span style="color: #1ea8fc;">:ensure</span> nil)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">lsp-ivy</span>)
(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">lsp-treemacs</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0c0d45a" class="outline-3">
<h3 id="org0c0d45a"><span class="section-number-3">4.19</span> Macros</h3>
<div class="outline-text-3" id="text-4-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(fset 'setupworkspace
   [?\C-c ?a ?A ?. ?\C-x ?0 ?\C-x ?3 ?\H-l ?\H-\C-x ?o ?\C-x ?2 ?\C-u ?7 ?\C-x ?^ ?\H-j ?\H-c ?i ?\H-h ?\H-c ?o ?\H-l])
(global-set-key (kbd <span style="color: #7984D1;">"C-x C-k 1"</span>) 'setupworkspace)

<span style="color: #546A90;">;;</span><span style="color: #546A90;">(fset 'OHSFigureSave</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">[?# ?+ ?C ?A ?P ?T ?I ?O ?N ?: ?  ?\C-x ?Q return return tab ?\[ ?\[ ?f ?i ?l ?e ?: ?. ?/ ?W ?e ?e ?k ?  ?\C-x ?Q return ?/ ?\C-x ?Q return ?_ ?\C-u ?\M-! ?d ?a ?t ?e ?  ?+ ?% ?H ?% ?M ?% ?S return escape ?e ?a ?. ?p ?n ?g escape ?v ?B ?F ?/ ?l ?y escape ?A ?\] ?\] return escape ?p ?0 ?i ?\M-x ?i ?n ?s ?e ?r ?t ?d ?i ?r ?e ?c ?t ?o ?r ?y return escape ?V ?d ?i ?\C-x ?\C-f ?\C-  ?\C-a backspace ?/ ?U ?s ?e ?r ?s ?/ ?p ?i ?e ?r ?c ?e ?w ?a ?n ?g ?/ ?S ?c ?r ?e ?e ?n ?s ?h ?o ?t ?s return ?s ?\M-&lt; ?\C-z ?/ ?S ?c ?r ?e ?e ?n ?  ?S ?h ?o ?t return ?R ?\C-  ?\C-a backspace ?\s-v backspace return ?\C-x ?k return])</span>
<span style="color: #546A90;">;;</span><span style="color: #546A90;">(global-set-key (kbd "&lt;f9&gt;") 'OHSFigureSave)</span>

<span style="color: #546A90;">;; </span><span style="color: #546A90;">(defun pgw/disable-helm ()</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">"Disable Helm"</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(interactive)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(helm-mode 0))</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">(defun pgw/enable-helm ()</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">"Enable Helm"</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(interactive)</span>
<span style="color: #546A90;">;;   </span><span style="color: #546A90;">(helm-mode))</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">(global-set-key (kbd "H-x H-h d") 'pgw/disable-helm)</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">(global-set-key (kbd "H-x H-h e") 'pgw/enable-helm)</span>

<span style="color: #546A90;">;; </span><span style="color: #546A90;">;(fset 'importChine</span>
seFlashcards
<span style="color: #546A90;">;   </span><span style="color: #546A90;">[return ?\C-p ?* ?* ?  ?I ?t ?e ?m ?\C-c ?\C-c ?d ?r ?i ?l ?l return ?\C-n ?\C-a ?\C-z ?f ?= ?x ?x ?\C-z ?\C-k ?\C-n ?\C-a return return ?\C-p ?* ?* ?  ?A ?n ?s ?w ?e ?r ?\C-a ?* ?\C-n ?\C-a ?\C-y ?\; ?  ?\C-a ?\C-n ?\C-n])</span>
(fset 'convertQuizlet
   [?I ?* ?* ?\S-  ?I ?t ?e ?m ?  ?: ?d ?r ?i ?l ?l ?: return escape ?/ ?= ?= return ?x ?x ?i return return ?* ?* ?* ?  ?A ?n ?s ?w ?e ?r return escape ?\M-\}])
(global-set-key (kbd <span style="color: #7984D1;">"&lt;f6&gt;"</span>) 'convertQuizlet)

(fset 'addqtest1
   [?\C-s ?a ?d ?d ?q ?\( return ?\C-a ?\C-  ?\C-\M-f ?\C-\M-f ?\C-f ?\C-\M-$ ?\C-q ?\C-j ?\[ ?  ?\] ?* return return ?\C-e ?\C-r ?a ?d ?d ?q ?\( return ?\C-x ?r ?  ?a ?\C-  ?\M-f ?\C-\M-f ?\C-f ?\C-x ?r ?  ?e ?\C-\M-$ ?\[ ?^ ?\\ ?\\ ?\] ?\\ ?\{ ?2 ?\\ ?\} ?' ?, ?  return ?\" ?, ?  return ?\C-x ?r ?j ?a ?\C-  ?\C-x ?r ?j ?e ?\C-\M-$ ?, ?  ?\[ ?\' ?\| ?\" ?\] return ?n ?i ?l ?e ?x ?i ?s ?t return ?\C-e ?\C-r ?\( return ?\C-a ?\C-s ?\( return ?\C-0 ?\C-k ?\{ return ?\" ?s ?e ?r ?v ?e ?r ?\" ?  ?: ?  ?\C-s ?n ?i ?l ?e ?x ?i ?s ?t return ?\C-u ?8 backspace ?, return ?\" ?q ?u ?e ?s ?t ?i ?o ?n ?\" ?  ?: ?  ?\" ?\C-s ?n ?i ?l ?e ?x ?i ?s ?t return ?\C-u ?8 backspace ?, return ?\" ?a ?n ?s ?w ?e ?r ?\" ?  ?: ?  ?\" ?\C-s ?n ?i ?l ?e ?x ?i ?s ?t return ?\C-u ?8 backspace ?, return ?\" ?q ?_ ?c ?o ?m ?p ?o ?n ?e ?n ?t ?s ?\" ?  ?: ?  ?\[ ?\" ?\C-e ?\C-b ?\C-r ?, return ?\] ?\C-f ?\C-  ?\C-a ?\C-\M-$ ?n ?i ?l ?e ?x ?i ?s ?t return ?, ?  ?\" return ?\C-e ?\C-r ?, ?\C-f return ?\" ?f ?a ?i ?l ?\" ?  ?: ?\C-k ?  ?T ?r ?u ?e return ?\}])
(global-set-key (kbd <span style="color: #7984D1;">"C-x C-k 2"</span>) 'addqtest1)

(fset 'convert_time_to_clock
   [?f ?\[ ?f ?\[ ?d ?0 ?I tab ?C ?L ?O ?C ?K ?: ?  escape ?j ?d ?0 ?i backspace ?- ?- ?\C-c ?\C-c escape ?0 ?j])
(global-set-key (kbd <span style="color: #7984D1;">"C-x C-k 3"</span>) 'convert_time_to_clock)

(fset 'journal_convert
   [?\C-  ?\M-f ?\M-f ?\M-f ?\M-w ?\M-! ?e ?c ?h ?o ?  ?\" ?* ?  ?\s-v ?\" ?  ?&gt; ?&gt; ?  ?j ?o ?u ?r ?n ?a ?l ?. ?o ?r ?g return ?! ?p ?a ?n ?d ?o ?c ?  ?- ?f ?  ?d ?o ?c ?x ?  ?- ?t ?  ?o ?r ?g ?  ?? ?  ?&gt; ?&gt; ?  ?j ?o ?u ?r ?n ?a ?l ?. ?o ?r ?g return ?g ?n])
(global-set-key (kbd <span style="color: #7984D1;">"C-x C-k 4"</span>) 'journal_convert)
</pre>
</div>
</div>

<div id="outline-container-orgb466fb5" class="outline-4">
<h4 id="orgb466fb5"><span class="section-number-4">4.19.1</span> Macro Query</h4>
<div class="outline-text-4" id="text-4-19-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">my-macro-query</span> (arg)
  <span style="color: #A875FF;">"Prompt for input using minibuffer during kbd macro execution.</span>
<span style="color: #A875FF;">With prefix argument, allows you to select what prompt string to use.</span>
<span style="color: #A875FF;">If the input is non-empty, it is inserted at point."</span>
  (<span style="color: #ff2afc; font-weight: bold;">interactive</span> <span style="color: #7984D1;">"P"</span>)
  (<span style="color: #ff2afc; font-weight: bold;">let*</span> ((query (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (kbd-macro-query t)))
         (prompt (<span style="color: #ff2afc; font-weight: bold;">if</span> arg (read-from-minibuffer <span style="color: #7984D1;">"PROMPT: "</span>) <span style="color: #7984D1;">"Input: "</span>))
         (input (<span style="color: #ff2afc; font-weight: bold;">unwind-protect</span>
                    (<span style="color: #ff2afc; font-weight: bold;">progn</span>
                      (add-hook 'minibuffer-setup-hook query)
                      (read-from-minibuffer prompt))
                  (remove-hook 'minibuffer-setup-hook query))))
    (<span style="color: #ff2afc; font-weight: bold;">unless</span> (string= <span style="color: #7984D1;">""</span> input) (insert input))))
(global-set-key <span style="color: #7984D1;">"\C-xQ"</span> 'my-macro-query)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4bbb8c8" class="outline-3">
<h3 id="org4bbb8c8"><span class="section-number-3">4.20</span> Magit</h3>
<div class="outline-text-3" id="text-4-20">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">magit</span>
  <span style="color: #1ea8fc;">:config</span>
  (global-set-key (kbd <span style="color: #7984D1;">"C-x g"</span>) 'magit-status))
</pre>
</div>
</div>
</div>

<div id="outline-container-org681e7d6" class="outline-3">
<h3 id="org681e7d6"><span class="section-number-3">4.21</span> yasnippet - Yet Another Snippet Extension</h3>
<div class="outline-text-3" id="text-4-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">yasnippet</span>
  <span style="color: #1ea8fc;">:config</span>
  (yas-global-mode 1) <span style="color: #546A90;">;; </span><span style="color: #546A90;">or M-x yas-reload-all if you've started YASnippet already.</span>
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd05070a" class="outline-3">
<h3 id="orgd05070a"><span class="section-number-3">4.22</span> Backups</h3>
<div class="outline-text-3" id="text-4-22">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> backup-directory-alist '((<span style="color: #7984D1;">"."</span> . <span style="color: #7984D1;">"~/org/backup"</span>))
  backup-by-copying t    <span style="color: #546A90;">; </span><span style="color: #546A90;">Don't delink hardlinks</span>
  version-control t      <span style="color: #546A90;">; </span><span style="color: #546A90;">Use version numbers on backups</span>
  delete-old-versions t  <span style="color: #546A90;">; </span><span style="color: #546A90;">Automatically delete excess backups</span>
  kept-new-versions 20   <span style="color: #546A90;">; </span><span style="color: #546A90;">how many of the newest versions to keep</span>
  kept-old-versions 5    <span style="color: #546A90;">; </span><span style="color: #546A90;">and how many of the old</span>
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab6df70" class="outline-3">
<h3 id="orgab6df70"><span class="section-number-3">4.23</span> Daemon</h3>
<div class="outline-text-3" id="text-4-23">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;;</span><span style="color: #546A90;">(if 'server-process</span>
<span style="color: #546A90;">;;    </span><span style="color: #546A90;">(server-start))</span>
(load <span style="color: #7984D1;">"server"</span>)
(<span style="color: #ff2afc; font-weight: bold;">unless</span> (server-running-p) (server-start))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3dc346e" class="outline-3">
<h3 id="org3dc346e"><span class="section-number-3">4.24</span> Revert Mode</h3>
<div class="outline-text-3" id="text-4-24">
<p>
For files changed by dropbox and also dired buffers.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-auto-revert-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3bd7c22" class="outline-3">
<h3 id="org3bd7c22"><span class="section-number-3">4.25</span> Calendar</h3>
<div class="outline-text-3" id="text-4-25">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> calendar-latitude 37.759995)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> calendar-longitude -122.427046)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> calendar-location-name <span style="color: #7984D1;">"Fremont, CA"</span>)
(add-hook 'calendar-mode-hook
    (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
      (evil-emacs-state)
      ))
</pre>
</div>
</div>

<div id="outline-container-org313d633" class="outline-4">
<h4 id="org313d633"><span class="section-number-4">4.25.1</span> Date Style</h4>
<div class="outline-text-4" id="text-4-25-1">
<p>
Set date style to ISO
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(calendar-set-date-style 'iso)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8a1af37" class="outline-3">
<h3 id="org8a1af37"><span class="section-number-3">4.26</span> Artist Mode</h3>
<div class="outline-text-3" id="text-4-26">
<p>
Artist mode is amazing! Configure some quick keybinds&#x2026;
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'artist-mode-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
            (display-line-numbers-mode -1)
            (evil-emacs-state)
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;f1&gt;"</span>) 'artist-select-op-poly-line)
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;f2&gt;"</span>) 'artist-select-op-pen-line)
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;f3&gt;"</span>) 'artist-select-op-line)
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;f4&gt;"</span>) 'artist-select-op-square)
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;f5&gt;"</span>) 'artist-select-op-ellipse))
          )
</pre>
</div>

<p>
Also remember, can use &lt;middle mouse button&gt; to see ht emenu of options.
</p>
</div>
</div>

<div id="outline-container-orgdf8b073" class="outline-3">
<h3 id="orgdf8b073"><span class="section-number-3">4.27</span> Image Mode</h3>
<div class="outline-text-3" id="text-4-27">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'image-mode-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
            (display-line-numbers-mode -1)
            (evil-emacs-state))
          )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc55a8b1" class="outline-3">
<h3 id="orgc55a8b1"><span class="section-number-3">4.28</span> Flyspell mode</h3>
<div class="outline-text-3" id="text-4-28">
<p>
Activate <code>flyspell-mode</code> automatically in all school files.
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/turn-on-flyspell-hook</span> ()
  (<span style="color: #ff2afc; font-weight: bold;">if</span> (<span style="color: #ff2afc; font-weight: bold;">or</span> (string-match <span style="color: #7984D1;">"^/Users/piercewang/Google Drive/OHS/"</span> (<span style="color: #ff2afc; font-weight: bold;">if</span> (eq buffer-file-name nil) <span style="color: #7984D1;">""</span> buffer-file-name))
          (string-match <span style="color: #7984D1;">"^/Users/piercewang/Dropbox/org/notes/college/"</span> (<span style="color: #ff2afc; font-weight: bold;">if</span> (eq buffer-file-name nil) <span style="color: #7984D1;">""</span> buffer-file-name)))
      (flyspell-mode 1)))

(add-hook 'text-mode-hook 'pgw/turn-on-flyspell-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1855379" class="outline-3">
<h3 id="org1855379"><span class="section-number-3">4.29</span> Games</h3>
<div class="outline-text-3" id="text-4-29">
</div>
<div id="outline-container-orgb24807e" class="outline-4">
<h4 id="orgb24807e"><span class="section-number-4">4.29.1</span> Tetris</h4>
<div class="outline-text-4" id="text-4-29-1">
<p>
I love Emacs Tetris!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">tetris</span>)
(define-key tetris-mode-map (kbd <span style="color: #7984D1;">"z"</span>) 'tetris-rotate-prev)
(define-key tetris-mode-map (kbd <span style="color: #7984D1;">"x"</span>) 'tetris-rotate-next)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcfab0ce" class="outline-4">
<h4 id="orgcfab0ce"><span class="section-number-4">4.29.2</span> Retris</h4>
<div class="outline-text-4" id="text-4-29-2">
<p>
Doesn't work as of Emacs 27.1 :( maybe someday&#x2026;
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">retris</span>
  <span style="color: #1ea8fc;">:load-path</span> <span style="color: #7984D1;">"site-lisp/retris"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge437a3e" class="outline-3">
<h3 id="orge437a3e"><span class="section-number-3">4.30</span> Desktop Save</h3>
<div class="outline-text-3" id="text-4-30">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(desktop-save-mode 1)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> desktop-restore-frames nil)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> desktop-restore-eager 5)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> desktop-path (list <span style="color: #7984D1;">"~/emacs/desktopsave/"</span>))
(<span style="color: #ff2afc; font-weight: bold;">setq</span> desktop-files-not-to-save <span style="color: #7984D1;">"</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">(</span><span style="color: #7984D1;">^/[</span><span style="color: #ff2afc; font-weight: bold;">^</span><span style="color: #7984D1;">/:]*:</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #7984D1;">(ftp)$</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">.gpg$</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">|</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">.org_archive</span><span style="color: #ff2afc; font-weight: bold;">\\</span><span style="color: #ff2afc; font-weight: bold;">)</span><span style="color: #7984D1;">"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org090629c" class="outline-3">
<h3 id="org090629c"><span class="section-number-3">4.31</span> ERC</h3>
<div class="outline-text-3" id="text-4-31">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> erc-log-channels-directory <span style="color: #7984D1;">"~/logs/"</span>)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> erc-save-buffer-on-part t)
(global-set-key (kbd <span style="color: #7984D1;">"H-M-e"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (erc <span style="color: #1ea8fc;">:server</span> <span style="color: #7984D1;">"irc.freenode.net"</span> <span style="color: #1ea8fc;">:port</span> 6667 <span style="color: #1ea8fc;">:nick</span> <span style="color: #7984D1;">"tesrodome"</span> <span style="color: #1ea8fc;">:password</span> passwords_ERC)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d43189" class="outline-3">
<h3 id="org0d43189"><span class="section-number-3">4.32</span> Keybinds</h3>
<div class="outline-text-3" id="text-4-32">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">;;; </span><span style="color: #546A90;">replace-regexp</span>
(global-set-key (kbd <span style="color: #7984D1;">"C-M-$"</span>) 'replace-regexp)

<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Open .emacs.d</span>
(global-set-key (kbd <span style="color: #7984D1;">"H-C-M-e"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (dired <span style="color: #7984D1;">"~/.emacs.d/"</span>)))

<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Regular find-file</span>
(global-set-key (kbd <span style="color: #7984D1;">"H-C-x o"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (switch-to-buffer <span style="color: #7984D1;">"*Org Agenda*"</span>)))


<span style="color: #546A90;">;;; </span><span style="color: #546A90;">Close window</span>
(global-set-key (kbd <span style="color: #7984D1;">"s-0"</span>) 'delete-window)
</pre>
</div>

<p>
Insert Org-mode Image
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #7984D1;">"&lt;f8&gt;"</span>) 'insert-org-image)
</pre>
</div>
</div>

<div id="outline-container-orgef56199" class="outline-4">
<h4 id="orgef56199"><span class="section-number-4">4.32.1</span> which-key</h4>
<div class="outline-text-4" id="text-4-32-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">which-key</span>
  <span style="color: #1ea8fc;">:config</span>
  (which-key-mode)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> which-key-popup-type 'side-window)
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> which-key-side-window-location 'bottom)
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-org58fd50a" class="outline-4">
<h4 id="org58fd50a"><span class="section-number-4">4.32.2</span> Scrolling</h4>
<div class="outline-text-4" id="text-4-32-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #7984D1;">"C-v"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (scroll-up-command 1)))
(global-set-key (kbd <span style="color: #7984D1;">"M-v"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (scroll-down-command 1)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org49cde2b" class="outline-3">
<h3 id="org49cde2b"><span class="section-number-3">4.33</span> Hydra for Resizing Windows</h3>
<div class="outline-text-3" id="text-4-33">
<p>
Functions to change:
<code>(enlarge-window)</code>
<code>(shrink-window-horizontally)</code>
<code>(enlarge-window-horizontally)</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defhydra</span> hydra-windowmanage (global-map <span style="color: #7984D1;">"H-c ^"</span>)
  <span style="color: #A875FF;">"Hydra for window management."</span>
  (<span style="color: #7984D1;">"="</span> enlarge-window <span style="color: #7984D1;">"+Vertical"</span>)
  (<span style="color: #7984D1;">"-"</span> (enlarge-window -1) <span style="color: #7984D1;">"-Vertical"</span>)
  (<span style="color: #7984D1;">"]"</span> enlarge-window-horizontally <span style="color: #7984D1;">"+Horizontal"</span>)
  (<span style="color: #7984D1;">"["</span> shrink-window-horizontally <span style="color: #7984D1;">"-Horizontal"</span>)
  (<span style="color: #7984D1;">"q"</span> nil <span style="color: #7984D1;">"Quit"</span>))

(global-set-key (kbd <span style="color: #7984D1;">"C-c C-6"</span>) 'hydra-windowmanage/body)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb0993c" class="outline-3">
<h3 id="orgcb0993c"><span class="section-number-3">4.34</span> User Configuration</h3>
<div class="outline-text-3" id="text-4-34">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> user-full-name <span style="color: #7984D1;">"Pierce Wang"</span>
      user-mail-address <span style="color: #7984D1;">"pierce.g.wang@gmail.com"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org26e770d" class="outline-3">
<h3 id="org26e770d"><span class="section-number-3">4.35</span> Buffer Mangement</h3>
<div class="outline-text-3" id="text-4-35">
</div>
<div id="outline-container-org036e0a8" class="outline-4">
<h4 id="org036e0a8"><span class="section-number-4">4.35.1</span> <span class="done DISABLED">DISABLED</span> IBuffer</h4>
<div class="outline-text-4" id="text-4-35-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">ibuffer</span>
  <span style="color: #1ea8fc;">:config</span>
  (global-set-key (kbd <span style="color: #7984D1;">"C-x C-b"</span>) 'ibuffer))
(<span style="color: #ff2afc; font-weight: bold;">setq</span> ibuffer-saved-filter-groups
      '((<span style="color: #7984D1;">"default"</span>
         (<span style="color: #7984D1;">"emacs-config"</span> (<span style="color: #ff2afc; font-weight: bold;">or</span> (filename . <span style="color: #7984D1;">"/.emacs.d/"</span>)
                             (filename . <span style="color: #7984D1;">".emacs.d/init.el"</span>)))
         (<span style="color: #7984D1;">"OHS"</span> (filename . <span style="color: #7984D1;">"/Google Drive/OHS/"</span>))
         (<span style="color: #7984D1;">"Org"</span> (filename . <span style="color: #7984D1;">"/Dropbox/org/"</span>))
         (<span style="color: #7984D1;">"planner"</span> (<span style="color: #ff2afc; font-weight: bold;">or</span>
                    (name . <span style="color: #7984D1;">"</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*Calendar</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*"</span>)
                    (name . <span style="color: #7984D1;">"</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*Org Agenda</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*"</span>)
                    (name . <span style="color: #7984D1;">"^diary$"</span>)))
         <span style="color: #546A90;">;; </span><span style="color: #546A90;">("Helm" (name . "\*helm.*"))</span>
         (<span style="color: #7984D1;">"Magit"</span> (mode . Magit))
         (<span style="color: #7984D1;">"ERC"</span> (mode . erc-mode))
         (<span style="color: #7984D1;">"Help"</span> (<span style="color: #ff2afc; font-weight: bold;">or</span> (name . <span style="color: #7984D1;">"</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*Help</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*"</span>)
                     (name . <span style="color: #7984D1;">"</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*info</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*"</span>)
                     (name . <span style="color: #7984D1;">"</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*GNU Emacs</span><span style="color: #ffd400;">\</span><span style="color: #7984D1;">*"</span>))))))

(add-hook 'ibuffer-mode-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span> ()
            (ibuffer-switch-to-saved-filter-groups <span style="color: #7984D1;">"default"</span>)))
(define-key ibuffer-mode-map (kbd <span style="color: #7984D1;">"P"</span>) nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org078583f" class="outline-4">
<h4 id="org078583f"><span class="section-number-4">4.35.2</span> Bufler - Alphapapa</h4>
<div class="outline-text-4" id="text-4-35-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">bufler</span>
  <span style="color: #1ea8fc;">:bind</span> ((<span style="color: #7984D1;">"C-x C-b"</span> . bufler)
         (<span style="color: #7984D1;">"C-x b"</span> . bufler-switch-buffer))
  <span style="color: #1ea8fc;">:config</span>
  (<span style="color: #ff2afc; font-weight: bold;">setf</span> bufler-groups
        (<span style="color: #ff2afc; font-weight: bold;">bufler-defgroups</span>
          (group
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting all named workspaces.</span>
           (auto-workspace))
          (group
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting all `</span><span style="color: #df85ff; font-weight: bold;">help-mode</span><span style="color: #546A90;">' and `</span><span style="color: #df85ff; font-weight: bold;">info-mode</span><span style="color: #546A90;">' buffers.</span>
           (group-or <span style="color: #7984D1;">"*Help/Info*"</span>
                     (mode-match <span style="color: #7984D1;">"*Help*"</span> (<span style="color: #ff2afc; font-weight: bold;">rx</span> bos <span style="color: #7984D1;">"help-"</span>))
                     (mode-match <span style="color: #7984D1;">"*Info*"</span> (<span style="color: #ff2afc; font-weight: bold;">rx</span> bos <span style="color: #7984D1;">"info-"</span>))))
          (group
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting all special buffers (i.e. ones that are not</span>
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">file-backed), except `</span><span style="color: #df85ff; font-weight: bold;">magit-status-mode</span><span style="color: #546A90;">' buffers (which are allowed to fall</span>
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">through to other groups, so they end up grouped with their project buffers).</span>
           (group-and <span style="color: #7984D1;">"*Special*"</span>
                      (<span style="color: #ff2afc; font-weight: bold;">lambda</span> (buffer)
                        (<span style="color: #ff2afc; font-weight: bold;">unless</span> (<span style="color: #ff2afc; font-weight: bold;">or</span> (funcall (mode-match <span style="color: #7984D1;">"Magit"</span> (<span style="color: #ff2afc; font-weight: bold;">rx</span> bos <span style="color: #7984D1;">"magit-status"</span>))
                                             buffer)
                                    (funcall (mode-match <span style="color: #7984D1;">"Dired"</span> (<span style="color: #ff2afc; font-weight: bold;">rx</span> bos <span style="color: #7984D1;">"dired"</span>))
                                             buffer)
                                    (funcall (auto-file) buffer))
                          <span style="color: #7984D1;">"*Special*"</span>)))
           (group
            <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting these "special special" buffers</span>
            <span style="color: #546A90;">;; </span><span style="color: #546A90;">separately for convenience.</span>
            (name-match <span style="color: #7984D1;">"**Special**"</span>
                        (<span style="color: #ff2afc; font-weight: bold;">rx</span> bos <span style="color: #7984D1;">"*"</span> (<span style="color: #ff2afc; font-weight: bold;">or</span> <span style="color: #7984D1;">"Messages"</span> <span style="color: #7984D1;">"Warnings"</span> <span style="color: #7984D1;">"scratch"</span> <span style="color: #7984D1;">"Backtrace"</span>) <span style="color: #7984D1;">"*"</span>)))
           (group
            <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting all other Magit buffers, grouped by directory.</span>
            (mode-match <span style="color: #7984D1;">"*Magit* (non-status)"</span> (<span style="color: #ff2afc; font-weight: bold;">rx</span> bos (<span style="color: #ff2afc; font-weight: bold;">or</span> <span style="color: #7984D1;">"magit"</span> <span style="color: #7984D1;">"forge"</span>) <span style="color: #7984D1;">"-"</span>))
            (auto-directory))
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Remaining special buffers are grouped automatically by mode.</span>
           (auto-mode))
          <span style="color: #546A90;">;; </span><span style="color: #546A90;">All buffers under "~/.emacs.d" (or wherever it is).</span>
          (dir user-emacs-directory)
          (group
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting buffers in `</span><span style="color: #df85ff; font-weight: bold;">org-directory</span><span style="color: #546A90;">' (or "~/org" if</span>
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">`</span><span style="color: #df85ff; font-weight: bold;">org-directory</span><span style="color: #546A90;">' is not yet defined).</span>
           (dir (<span style="color: #ff2afc; font-weight: bold;">if</span> (<span style="color: #ff2afc; font-weight: bold;">bound-and-true-p</span> org-directory)
                    org-directory
                  <span style="color: #7984D1;">"~/org"</span>))
           (dir <span style="color: #7984D1;">"~/Dropbox/org/notes/"</span>)
           (dir <span style="color: #7984D1;">"~/Dropbox/org/notes/college/essays/"</span> 1)
           (group
            <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting indirect Org buffers, grouping them by file.</span>
            <span style="color: #546A90;">;; </span><span style="color: #546A90;">This is very useful when used with `</span><span style="color: #df85ff; font-weight: bold;">org-tree-to-indirect-buffer</span><span style="color: #546A90;">'.</span>
            (auto-indirect)
            (auto-file))
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Group remaining buffers by whether they're file backed, then by mode.</span>
           (group-not <span style="color: #7984D1;">"*special*"</span> (auto-file))
           (auto-mode))
          (group
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup for OHS things</span>
           (dir <span style="color: #7984D1;">"~/Google Drive/OHS/"</span>)
           (dir <span style="color: #7984D1;">"~/Google Drive/OHS/12th Grade/Classes/"</span> 1)
           (dir <span style="color: #7984D1;">"~/Google Drive/OHS/11th Grade/"</span> 2)
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Group remaining buffers by whether they're file backed, then by mode.</span>
           (group-not <span style="color: #7984D1;">"*special*"</span> (auto-file))
           (auto-mode))
          (dir <span style="color: #7984D1;">"/Volumes/"</span> 1)
          (group
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting buffers in a projectile project.</span>
           (auto-projectile))
          (group
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">Subgroup collecting buffers in a version-control project,</span>
           <span style="color: #546A90;">;; </span><span style="color: #546A90;">grouping them by directory.</span>
           (auto-project))
          <span style="color: #546A90;">;; </span><span style="color: #546A90;">Group remaining buffers by directory, then major mode.</span>
          (auto-directory)
          (auto-mode))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgadbbf70" class="outline-3">
<h3 id="orgadbbf70"><span class="section-number-3">4.36</span> Dired</h3>
<div class="outline-text-3" id="text-4-36">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> delete-by-moving-to-trash t)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> trash-directory <span style="color: #7984D1;">"~/.Trash"</span>)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> insert-directory-program <span style="color: #7984D1;">"/usr/local/bin/gls"</span>
      dired-use-ls-dired t)
</pre>
</div>

<p>
Make moving files easier between two split buffers.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> dired-dwim-target t)
</pre>
</div>

<p>
Remove print option to not accidentally print
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key dired-mode-map (kbd <span style="color: #7984D1;">"P"</span>) nil)
</pre>
</div>

<p>
Custom dired open file function
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key dired-mode-map (kbd <span style="color: #7984D1;">"O"</span>) 'pgw/dired-open-file)
</pre>
</div>
</div>

<div id="outline-container-org9377561" class="outline-4">
<h4 id="org9377561"><span class="section-number-4">4.36.1</span> dired-quick-sort.el</h4>
<div class="outline-text-4" id="text-4-36-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">dired-quick-sort</span>
  <span style="color: #1ea8fc;">:load-path</span> <span style="color: #7984D1;">"custom_load"</span>
  <span style="color: #1ea8fc;">:config</span>
  (dired-quick-sort-setup)
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-org760911d" class="outline-4">
<h4 id="org760911d"><span class="section-number-4">4.36.2</span> Human readable format for ls switches (<code>-h</code>)</h4>
<div class="outline-text-4" id="text-4-36-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> dired-listing-switches <span style="color: #7984D1;">"-alh"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb8dc275" class="outline-3">
<h3 id="orgb8dc275"><span class="section-number-3">4.37</span> Disabled Functions</h3>
<div class="outline-text-3" id="text-4-37">
<p>
Gotta sort this out later&#x2026;
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(put 'upcase-region 'disabled nil)
(put 'downcase-region 'disabled nil)
(put 'scroll-left 'disabled nil)
(put 'dired-find-alternate-file 'disabled nil)
(put 'narrow-to-page 'disabled nil)
(put 'narrow-to-region 'disabled nil)
(put 'list-timers 'disabled nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd1cc7a5" class="outline-3">
<h3 id="orgd1cc7a5"><span class="section-number-3">4.38</span> browse-url-firefox-program</h3>
<div class="outline-text-3" id="text-4-38">
<p>
Allow the function <code>browse-url-firefox</code> to open links in firefox using bin. One could probably also accomplish this using <code>brew</code>'s version of firefox, but I didn't want to install firefox again.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">setq</span> browse-url-firefox-program <span style="color: #7984D1;">"/Applications/Firefox.app/Contents/MacOS/firefox-bin"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0daf975" class="outline-3">
<h3 id="org0daf975"><span class="section-number-3">4.39</span> mu4e</h3>
<div class="outline-text-3" id="text-4-39">
<p>
I love email in Emacs &lt;3
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #546A90;">; </span><span style="color: #546A90;">add the source shipped with mu to load-path</span>
(add-to-list 'load-path (expand-file-name <span style="color: #7984D1;">"/usr/local/Cellar/mu/1.4.13/share/emacs/site-lisp/mu/mu4e/"</span>))

<span style="color: #546A90;">; </span><span style="color: #546A90;">require mu4e</span>
(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">mu4e</span>)

(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-maildir (expand-file-name <span style="color: #7984D1;">"~/Maildir"</span>))

<span style="color: #546A90;">; </span><span style="color: #546A90;">get mail</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-get-mail-command <span style="color: #7984D1;">"mbsync -c ~/.emacs.d/mu4e/.mbsyncrc -a"</span>
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">mu4e-html2text-command "w3m -T text/html" ;;using the default mu4e-shr2text</span>
  mu4e-view-prefer-html t
  mu4e-update-interval 300
  mu4e-headers-auto-update t
  mu4e-compose-signature-auto-include nil
  mu4e-compose-format-flowed t)<span style="color: #546A90;">; </span><span style="color: #546A90;">tell mu4e to use w3m for html rendering</span>

<span style="color: #546A90;">;; </span><span style="color: #546A90;">don't save message to Sent Messages, Gmail/IMAP takes care of this</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-sent-messages-behavior 'delete)

<span style="color: #546A90;">;; </span><span style="color: #546A90;">enable inline images</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-view-show-images t)

<span style="color: #546A90;">;; </span><span style="color: #546A90;">from info manual</span>
(add-to-list 'mu4e-view-actions
             '(<span style="color: #7984D1;">"ViewInBrowser"</span> . mu4e-action-view-in-browser) t)


<span style="color: #546A90;">;; </span><span style="color: #546A90;">&lt;tab&gt; to navigate to links, &lt;RET&gt; to open them in browser</span>
(add-hook 'mu4e-view-mode-hook
          (<span style="color: #ff2afc; font-weight: bold;">lambda</span>()
            <span style="color: #546A90;">;; </span><span style="color: #546A90;">try to emulate some of the eww key-bindings</span>
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;RET&gt;"</span>) 'mu4e~view-browse-url-from-binding)
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;tab&gt;"</span>) 'shr-next-link)
            (local-set-key (kbd <span style="color: #7984D1;">"&lt;backtab&gt;"</span>) 'shr-previous-link)))

<span style="color: #546A90;">;; </span><span style="color: #546A90;">from https://www.reddit.com/r/emacs/comments/bfsck6/mu4e_for_dummies/elgoumx</span>
(add-hook 'mu4e-headers-mode-hook
      (<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">my/mu4e-change-headers</span> ()
        (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
        (<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-headers-fields
              `((<span style="color: #1ea8fc;">:human-date</span> . 25) <span style="color: #546A90;">;; </span><span style="color: #546A90;">alternatively, use :date</span>
                (<span style="color: #1ea8fc;">:flags</span> . 6)
                (<span style="color: #1ea8fc;">:from</span> . 22)
                (<span style="color: #1ea8fc;">:thread-subject</span> . ,(- (window-body-width) 70)) <span style="color: #546A90;">;; </span><span style="color: #546A90;">alternatively, use :subject</span>
                (<span style="color: #1ea8fc;">:size</span> . 7)))))

<span style="color: #546A90;">;; </span><span style="color: #546A90;">if you use date instead of human-date in the above, use this setting</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">give me ISO(ish) format date-time stamps in the header list</span>
<span style="color: #546A90;">;</span><span style="color: #546A90;">(setq mu4e-headers-date-format "%Y-%m-%d %H:%M")</span>

<span style="color: #546A90;">;; </span><span style="color: #546A90;">spell check</span>
(add-hook 'mu4e-compose-mode-hook
(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/do-compose-stuff</span> ()
       <span style="color: #A875FF;">"My settings for message composition."</span>
       (visual-line-mode)
       (org-mu4e-compose-org-mode)
           (use-hard-newlines -1)
           (flyspell-mode)))

(add-hook 'mu4e-view-mode-hook #'visual-line-mode)

<span style="color: #546A90;">;; </span><span style="color: #546A90;">every new email composition gets its own frame!</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-compose-in-new-frame nil)

(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">smtpmail</span>)

<span style="color: #546A90;">;;</span><span style="color: #546A90;">rename files when moving</span>
<span style="color: #546A90;">;;</span><span style="color: #546A90;">NEEDED FOR MBSYNC</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-change-filenames-when-moving t)

<span style="color: #546A90;">;;</span><span style="color: #546A90;">set up queue for offline email</span>
<span style="color: #546A90;">;;</span><span style="color: #546A90;">use mu mkdir  ~/Maildir/acc/queue to set up first</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> smtpmail-queue-mail nil)  <span style="color: #546A90;">;; </span><span style="color: #546A90;">start in normal mode</span>

<span style="color: #546A90;">;;</span><span style="color: #546A90;">from the info manual</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-attachment-dir  <span style="color: #7984D1;">"~/Documents"</span>)

(<span style="color: #ff2afc; font-weight: bold;">setq</span> message-kill-buffer-on-exit t)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-compose-dont-reply-to-self t)

(<span style="color: #ff2afc; font-weight: bold;">require</span> '<span style="color: #df85ff; font-weight: bold;">org-mu4e</span>)

<span style="color: #546A90;">;; </span><span style="color: #546A90;">convert org mode to HTML automatically</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> org-mu4e-convert-to-html t)

<span style="color: #546A90;">;;</span><span style="color: #546A90;">from vxlabs config</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">show full addresses in view message (instead of just names)</span>
<span style="color: #546A90;">;; </span><span style="color: #546A90;">toggle per name with M-RET</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-view-show-addresses 't)

<span style="color: #546A90;">;; </span><span style="color: #546A90;">don't ask when quitting</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-confirm-quit nil)

<span style="color: #546A90;">;; </span><span style="color: #546A90;">mu4e-context</span>
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-context-policy 'pick-first)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-compose-context-policy 'always-ask)
(<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-contexts
  (list
   (make-mu4e-context
    <span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"personal"</span> <span style="color: #546A90;">;;</span><span style="color: #546A90;">for pierce.g.wang</span>
    <span style="color: #1ea8fc;">:enter-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (mu4e-message <span style="color: #7984D1;">"Entering context personal"</span>))
    <span style="color: #1ea8fc;">:leave-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (mu4e-message <span style="color: #7984D1;">"Leaving context personal"</span>))
    <span style="color: #1ea8fc;">:match-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> (msg)
                  (<span style="color: #ff2afc; font-weight: bold;">when</span> msg
                (mu4e-message-contact-field-matches
                 msg '(<span style="color: #1ea8fc;">:from</span> <span style="color: #1ea8fc;">:to</span> <span style="color: #1ea8fc;">:cc</span> <span style="color: #1ea8fc;">:bcc</span>) <span style="color: #7984D1;">"pierce.g.wang@gmail.com"</span>)))
    <span style="color: #1ea8fc;">:vars</span> '((user-mail-address . <span style="color: #7984D1;">"pierce.g.wang@gmail.com"</span>)
            (user-full-name . <span style="color: #7984D1;">"Pierce Wang"</span>)
            (mu4e-sent-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Sent Mail"</span>)
            (mu4e-drafts-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].drafts"</span>)
            (mu4e-trash-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Trash"</span>)
            (mu4e-refile-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].All Mail"</span>)
            (mu4e-compose-signature . (concat <span style="color: #7984D1;">"Formal Signature\n"</span> <span style="color: #7984D1;">"Emacs 27, org-mode 9, mu4e 1.14\n"</span>))
            (mu4e-compose-format-flowed . t)
            (smtpmail-queue-dir . <span style="color: #7984D1;">"~/Maildir/pierce.g.wang/queue/cur"</span>)
            (message-send-mail-function . smtpmail-send-it)
            (smtpmail-smtp-user . <span style="color: #7984D1;">"pierce.g.wang"</span>)
            (smtpmail-starttls-credentials . ((<span style="color: #7984D1;">"smtp.gmail.com"</span> 587 nil nil)))
            (smtpmail-auth-credentials . (expand-file-name <span style="color: #7984D1;">"~/.authinfo.gpg"</span>))
            (smtpmail-default-smtp-server . <span style="color: #7984D1;">"smtp.gmail.com"</span>)
            (smtpmail-smtp-server . <span style="color: #7984D1;">"smtp.gmail.com"</span>)
            (smtpmail-smtp-service . 587)
            (smtpmail-debug-info . t)
            (smtpmail-debug-verbose . t)
            (mu4e-maildir-shortcuts . ( (<span style="color: #7984D1;">"/pierce.g.wang/INBOX"</span>            . ?i)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Sent Mail"</span> . ?s)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Trash"</span>     . ?t)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].All Mail"</span>  . ?a)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Starred"</span>   . ?r)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].drafts"</span>    . ?d)
                                        ))))
   (make-mu4e-context
    <span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"OHS"</span> <span style="color: #546A90;">;;</span><span style="color: #546A90;">for pgwang@ohs.stanford.edu</span>
    <span style="color: #1ea8fc;">:enter-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (mu4e-message <span style="color: #7984D1;">"Entering context, OHS"</span>))
    <span style="color: #1ea8fc;">:leave-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (mu4e-message <span style="color: #7984D1;">"Leaving context, OHS"</span>))
    <span style="color: #1ea8fc;">:match-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> (msg)
                  (<span style="color: #ff2afc; font-weight: bold;">when</span> msg
                (mu4e-message-contact-field-matches
                 msg '(<span style="color: #1ea8fc;">:from</span> <span style="color: #1ea8fc;">:to</span> <span style="color: #1ea8fc;">:cc</span> <span style="color: #1ea8fc;">:bcc</span>) <span style="color: #7984D1;">"pgwang@ohs.stanford.edu"</span>)))
    <span style="color: #1ea8fc;">:vars</span> '((user-mail-address . <span style="color: #7984D1;">"pgwang@ohs.stanford.edu"</span>)
            (user-full-name . <span style="color: #7984D1;">"Pierce Wang"</span>)
            (mu4e-sent-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Sent Mail"</span>)
            (mu4e-drafts-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].drafts"</span>)
            (mu4e-trash-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Trash"</span>)
            (mu4e-refile-folder . <span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].All Mail"</span>)
            (mu4e-compose-signature . (concat <span style="color: #7984D1;">"Formal Signature\n"</span> <span style="color: #7984D1;">"Emacs 27, org-mode 9, mu4e 1.14\n"</span>))
            (mu4e-compose-format-flowed . t)
            (smtpmail-queue-dir . <span style="color: #7984D1;">"~/Maildir/pierce.g.wang/queue/cur"</span>)
            (message-send-mail-function . smtpmail-send-it)
            (smtpmail-smtp-user . <span style="color: #7984D1;">"pierce.g.wang"</span>)
            (smtpmail-starttls-credentials . ((<span style="color: #7984D1;">"smtp.gmail.com"</span> 587 nil nil)))
            (smtpmail-auth-credentials . (expand-file-name <span style="color: #7984D1;">"~/.authinfo.gpg"</span>))
            (smtpmail-default-smtp-server . <span style="color: #7984D1;">"smtp.gmail.com"</span>)
            (smtpmail-smtp-server . <span style="color: #7984D1;">"smtp.gmail.com"</span>)
            (smtpmail-smtp-service . 587)
            (smtpmail-debug-info . t)
            (smtpmail-debug-verbose . t)
            (mu4e-maildir-shortcuts . ( (<span style="color: #7984D1;">"/pierce.g.wang/INBOX"</span>            . ?i)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Sent Mail"</span> . ?s)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Trash"</span>     . ?t)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].All Mail"</span>  . ?a)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].Starred"</span>   . ?r)
                                        (<span style="color: #7984D1;">"/pierce.g.wang/[pierce.g.wang].drafts"</span>    . ?d)
                                        ))))
      (make-mu4e-context
       <span style="color: #1ea8fc;">:name</span> <span style="color: #7984D1;">"work"</span> <span style="color: #546A90;">;;</span><span style="color: #546A90;">for pierce.wang.violin</span>
       <span style="color: #1ea8fc;">:enter-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (mu4e-message <span style="color: #7984D1;">"Entering context work"</span>))
       <span style="color: #1ea8fc;">:leave-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (mu4e-message <span style="color: #7984D1;">"Leaving context work"</span>))
       <span style="color: #1ea8fc;">:match-func</span> (<span style="color: #ff2afc; font-weight: bold;">lambda</span> (msg)
                     (<span style="color: #ff2afc; font-weight: bold;">when</span> msg
                       (mu4e-message-contact-field-matches
                        msg '(<span style="color: #1ea8fc;">:from</span> <span style="color: #1ea8fc;">:to</span> <span style="color: #1ea8fc;">:cc</span> <span style="color: #1ea8fc;">:bcc</span>) <span style="color: #7984D1;">"pierce.wang.violin@gmail.com"</span>)))
       <span style="color: #1ea8fc;">:vars</span> '((user-mail-address . <span style="color: #7984D1;">"pierce.wang.violin@gmail.com"</span>)
               (user-full-name . <span style="color: #7984D1;">"Pierce Wang"</span>)
               (mu4e-sent-folder . <span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].Sent Mail"</span>)
               (mu4e-drafts-folder . <span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].drafts"</span>)
               (mu4e-trash-folder . <span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].Trash"</span>)
               (mu4e-refile-folder . <span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].All Mail"</span>)
               (mu4e-compose-signature . (concat <span style="color: #7984D1;">"Formal Signature\n"</span> <span style="color: #7984D1;">"Emacs 27, org-mode 9, mu4e 1.14\n"</span>))
               (mu4e-compose-format-flowed . t)
               (smtpmail-queue-dir . <span style="color: #7984D1;">"~/Maildir/pierce.wang.violin/queue/cur"</span>)
               (message-send-mail-function . smtpmail-send-it)
               (smtpmail-smtp-user . <span style="color: #7984D1;">"pierce.wang.violin"</span>)
               (smtpmail-starttls-credentials . ((<span style="color: #7984D1;">"smtp.gmail.com"</span> 587 nil nil)))
               (smtpmail-auth-credentials . (expand-file-name <span style="color: #7984D1;">"~/.authinfo.gpg"</span>))
               (smtpmail-default-smtp-server . <span style="color: #7984D1;">"smtp.gmail.com"</span>)
               (smtpmail-smtp-server . <span style="color: #7984D1;">"smtp.gmail.com"</span>)
               (smtpmail-smtp-service . 587)
               (smtpmail-debug-info . t)
               (smtpmail-debug-verbose . t)
               (mu4e-maildir-shortcuts . ( (<span style="color: #7984D1;">"/pierce.wang.violin/INBOX"</span>            . ?i)
                                           (<span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].Sent Mail"</span> . ?s)
                                           (<span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].Trash"</span>     . ?t)
                                           (<span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].All Mail"</span>  . ?a)
                                           (<span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].Starred"</span>   . ?r)
                                           (<span style="color: #7984D1;">"/pierce.wang.violin/[pierce.wang.violin].drafts"</span>    . ?d)
                                           ))))
      ))
</pre>
</div>
</div>

<div id="outline-container-org229abe1" class="outline-4">
<h4 id="org229abe1"><span class="section-number-4">4.39.1</span> mu4e-alert</h4>
<div class="outline-text-4" id="text-4-39-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">use-package</span> <span style="color: #df85ff; font-weight: bold;">mu4e-alert</span>
  <span style="color: #1ea8fc;">:ensure</span> t
  <span style="color: #1ea8fc;">:after</span> mu4e
  <span style="color: #1ea8fc;">:init</span>
  (<span style="color: #ff2afc; font-weight: bold;">setq</span> mu4e-alert-interesting-mail-query
        (concat
         <span style="color: #7984D1;">"flag:unread maildir:/pierce.wang.violin/INBOX "</span>
         <span style="color: #7984D1;">"OR "</span>
         <span style="color: #7984D1;">"flag:unread maildir:/pierce.g.wang/INBOX"</span>
         ))
  (mu4e-alert-set-default-style 'notifier)
  (add-hook 'after-init-hook #'mu4e-alert-enable-notifications)
  (add-hook 'after-init-hook #'mu4e-alert-enable-mode-line-display)
  (<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/fetch-mail-and-mu4e</span> ()
    (<span style="color: #ff2afc; font-weight: bold;">interactive</span>)
    (<span style="color: #ff2afc; font-weight: bold;">if</span> (internet-up-p)
        (mu4e-update-mail-and-index t))
    )
  <span style="color: #546A90;">;; </span><span style="color: #546A90;">(run-with-timer 60 300 'pgw/fetch-mail-and-mu4e)</span>
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgade4b2d" class="outline-4">
<h4 id="orgade4b2d"><span class="section-number-4">4.39.2</span> mu4e keybinds&#xa0;&#xa0;&#xa0;<span class="tag"><span class="keybinds">keybinds</span></span></h4>
<div class="outline-text-4" id="text-4-39-2">
<p>
Unset default compose message and set personal keybinds.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-unset-key (kbd <span style="color: #7984D1;">"C-x m"</span>))
(global-set-key (kbd <span style="color: #7984D1;">"C-x m n"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () <span style="color: #A875FF;">"Open mu4e in a new frame"</span> (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (make-frame '((name . <span style="color: #7984D1;">"Mail: mu4e"</span>))) (mu4e)))
(global-set-key (kbd <span style="color: #7984D1;">"C-x m b"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () <span style="color: #A875FF;">"Open mu4e in the background"</span> (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (mu4e t)))
(global-set-key (kbd <span style="color: #7984D1;">"C-x m m"</span>) 'mu4e)
(global-set-key (kbd <span style="color: #7984D1;">"C-x m c"</span>) 'mu4e-compose-new)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org413ec7d" class="outline-3">
<h3 id="org413ec7d"><span class="section-number-3">4.40</span> OHS</h3>
<div class="outline-text-3" id="text-4-40">
</div>
<div id="outline-container-orgc7427f2" class="outline-4">
<h4 id="orgc7427f2"><span class="section-number-4">4.40.1</span> <span class="done DISABLED">DISABLED</span> Schoolyear Calculation for sexp Diary Entries&#xa0;&#xa0;&#xa0;<span class="tag"><span class="ARCHIVE">ARCHIVE</span></span></h4>
</div>

<div id="outline-container-orgca26908" class="outline-4">
<h4 id="orgca26908"><span class="section-number-4">4.40.2</span> Generate OHS Class Calendar</h4>
<div class="outline-text-4" id="text-4-40-2">
<p>
This is super messy, any tips on making this kind of code cleaner?
</p>

<p>
The identified problem was that in general, for class schedules, I've used a repeating event. However, repeating events (in <code>org-mode</code> or otherwise) are not holiday-aware. So, the point of this code is to generate a list of scheduled org headlines for all of my classes which is 100% accurate and does not put classes on holidays or no-class study week days.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/date-block</span> (absolute y1 m1 d1 y2 m2 d2)
  <span style="color: #A875FF;">"Block date entry. An adapted version of the `</span><span style="color: #df85ff; font-weight: bold;">diary-block</span><span style="color: #A875FF;">'</span>
<span style="color: #A875FF;">function from the diary-lib."</span>
  (<span style="color: #ff2afc; font-weight: bold;">let</span> ((date1 (calendar-absolute-from-gregorian
                (diary-make-date y1 m1 d1)))
        (date2 (calendar-absolute-from-gregorian
                (diary-make-date y2 m2 d2)))
        (d absolute))
    (<span style="color: #ff2afc; font-weight: bold;">and</span> (&lt;= date1 d) (&lt;= d date2))))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/date-date</span> (absolute year month day)
  <span style="color: #A875FF;">"Check for equality of date"</span>
  (equal absolute (calendar-absolute-from-gregorian (diary-make-date year month day))))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/check-ohs-class</span> (absolute classname semesters days times fallstart fallend springstart mononfri springend holidays noclasses)
  <span style="color: #A875FF;">"Returns a list with formatted strings: (classname curdate</span>
<span style="color: #A875FF;">headline). These can then be used to create the headline. The curdate</span>
<span style="color: #A875FF;">is in the form of a list"</span>
  (<span style="color: #ff2afc; font-weight: bold;">let*</span> ((dayname (calendar-day-of-week (calendar-gregorian-from-absolute absolute)))
         (curdate (calendar-gregorian-from-absolute absolute))
         (periods '(<span style="color: #7984D1;">"06:00-07:15"</span>
                    <span style="color: #7984D1;">"07:15-08:30"</span>
                    <span style="color: #7984D1;">"08:30-09:45"</span>
                    <span style="color: #7984D1;">"09:45-11:00"</span>
                    <span style="color: #7984D1;">"11:00-12:15"</span>
                    <span style="color: #7984D1;">"12:15-13:30"</span>
                    <span style="color: #7984D1;">"13:30-14:45"</span>
                    <span style="color: #7984D1;">"14:45-16:00"</span>
                    <span style="color: #7984D1;">"16:00-17:15"</span>
                    <span style="color: #7984D1;">"17:15-18:30"</span>
                    <span style="color: #7984D1;">"18:30-19:45"</span>
                    <span style="color: #7984D1;">"19:45-21:00"</span>
                    <span style="color: #7984D1;">"21:00-22:15"</span>))
         (time (<span style="color: #ff2afc; font-weight: bold;">if</span> (equal (type-of times) 'integer) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Checks if the times argument is an integer or list of times as strings</span>
                   (nth (1- times) periods)
               (nth (- (length days) (length (memq dayname days))) times))))
    (<span style="color: #ff2afc; font-weight: bold;">when</span> (<span style="color: #ff2afc; font-weight: bold;">and</span> (<span style="color: #ff2afc; font-weight: bold;">cond</span> ((equal days '(1 3)) (<span style="color: #ff2afc; font-weight: bold;">or</span> (memq dayname '(1 3)) (pgw/date-date absolute (nth 0 mononfri) (nth 1 mononfri) (nth 2 mononfri)))) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Account for MLK Monday on Friday</span>
                     (t (memq dayname days)))
               (<span style="color: #ff2afc; font-weight: bold;">or</span> (<span style="color: #ff2afc; font-weight: bold;">if</span> (memq 1 semesters) (pgw/date-block absolute (nth 0 fallstart) (nth 1 fallstart) (nth 2 fallstart)
                                                         (nth 0 fallend) (nth 1 fallend) (nth 2 fallend)))
                   (<span style="color: #ff2afc; font-weight: bold;">if</span> (memq 2 semesters) (pgw/date-block absolute (nth 0 springstart) (nth 1 springstart) (nth 2 springstart)
                                                          (nth 0 springend) (nth 1 springend) (nth 2 springend)))))
      (<span style="color: #ff2afc; font-weight: bold;">if</span> (equal (type-of times) 'integer) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Classes will always be in periods, OH and other events will not</span>
          (<span style="color: #ff2afc; font-weight: bold;">when</span> (<span style="color: #ff2afc; font-weight: bold;">and</span> (not (memq 't
                                (mapcar (<span style="color: #ff2afc; font-weight: bold;">lambda</span> (holiday) (<span style="color: #ff2afc; font-weight: bold;">if</span> (&gt; (length holiday) 3)
                                                              (pgw/date-block absolute (nth 0 holiday) (nth 1 holiday) (nth 2 holiday) (nth 3 holiday) (nth 4 holiday) (nth 5 holiday))
                                                            (pgw/date-date absolute (nth 0 holiday) (nth 1 holiday) (nth 2 holiday))))
                                        holidays)))
                     (not (memq 't
                                (mapcar (<span style="color: #ff2afc; font-weight: bold;">lambda</span> (noclass) (<span style="color: #ff2afc; font-weight: bold;">if</span> (&gt; (length noclass) 3)
                                                              (pgw/date-block absolute (nth 0 noclass) (nth 1 noclass) (nth 2 noclass) (nth 3 noclass) (nth 4 noclass) (nth 5 noclass))
                                                            (pgw/date-date absolute (nth 0 noclass) (nth 1 noclass) (nth 2 noclass))))
                                        noclasses))))
            (list classname curdate time))
        (<span style="color: #ff2afc; font-weight: bold;">when</span> (not (memq 't
                         (mapcar (<span style="color: #ff2afc; font-weight: bold;">lambda</span> (holiday) (<span style="color: #ff2afc; font-weight: bold;">if</span> (&gt; (length holiday) 3)
                                                       (pgw/date-block absolute (nth 0 holiday) (nth 1 holiday) (nth 2 holiday) (nth 3 holiday) (nth 4 holiday) (nth 5 holiday))
                                                     (pgw/date-date absolute (nth 0 holiday) (nth 1 holiday) (nth 2 holiday))))
                                 holidays)))
          (list classname curdate time))))))

(<span style="color: #ff2afc; font-weight: bold;">defun</span> <span style="color: #42c6ff; font-weight: bold;">pgw/create-entry</span> (classname semesters days times <span style="color: #ffd400;">&amp;optional</span> desc)
  <span style="color: #A875FF;">"Creates headlines for class schedule.</span>
<span style="color: #A875FF;">CLASSNAME: a string with the class name (to appear on agenda)</span>
<span style="color: #A875FF;">SEMESTERS: a list of integers. e.g. for both just a first semester:</span>
<span style="color: #A875FF;">'(1) or for both semesters '(1 2)</span>
<span style="color: #A875FF;">DAYS: the days of the class. Normally it will be M/W or T/Th but in</span>
<span style="color: #A875FF;">order to have flexibility, the function takes an input of another list</span>
<span style="color: #A875FF;">of integers representing days of the week. Monday starts on 1 and</span>
<span style="color: #A875FF;">Sunday is 0</span>
<span style="color: #A875FF;">TIMES: Either an integer with the period number or a cons list</span>
<span style="color: #A875FF;">containing a list of the times which should be the same length as the</span>
<span style="color: #A875FF;">list of days</span>

<span style="color: #A875FF;">optional DESC: string containing a description for the event</span>

<span style="color: #A875FF;">This function uses the variable `</span><span style="color: #df85ff; font-weight: bold;">pgw/ohs-schoolyear-dates</span><span style="color: #A875FF;">' for the value of holidays"</span>
  (<span style="color: #ff2afc; font-weight: bold;">let</span> ((current (calendar-absolute-from-gregorian (diary-make-date 2020 8 19)))
        (desc (<span style="color: #ff2afc; font-weight: bold;">if</span> desc (<span style="color: #ff2afc; font-weight: bold;">setq</span> desc (format <span style="color: #7984D1;">"\n%s\n"</span> desc)) (<span style="color: #ff2afc; font-weight: bold;">setq</span> desc <span style="color: #7984D1;">""</span>)))
        (fallstart (gethash <span style="color: #7984D1;">"fallstart"</span> pgw/ohs-schoolyear-dates))
        (fallend (gethash <span style="color: #7984D1;">"fallend"</span> pgw/ohs-schoolyear-dates))
        (springstart (gethash <span style="color: #7984D1;">"springstart"</span> pgw/ohs-schoolyear-dates))
        (mononfri (gethash <span style="color: #7984D1;">"mononfri"</span> pgw/ohs-schoolyear-dates))
        (springend (gethash <span style="color: #7984D1;">"springend"</span> pgw/ohs-schoolyear-dates))
        (holidays (gethash <span style="color: #7984D1;">"holidays"</span> pgw/ohs-schoolyear-dates))
        (noclasses (gethash <span style="color: #7984D1;">"noclasses"</span> pgw/ohs-schoolyear-dates)))
    (goto-char (point-max))
    (insert (format <span style="color: #7984D1;">"\n* %s"</span> classname))
    (<span style="color: #ff2afc; font-weight: bold;">while</span> (pgw/date-block current (nth 0 fallstart) (nth 1 fallstart) (nth 2 fallstart)
                           (nth 0 springend) (nth 1 springend) (nth 2 springend)) <span style="color: #546A90;">; </span><span style="color: #546A90;">Make sure we're within starting and ending dates of school</span>
      (<span style="color: #ff2afc; font-weight: bold;">let</span> ((info (pgw/check-ohs-class current classname semesters days times fallstart fallend springstart mononfri springend holidays noclasses)))
        (<span style="color: #ff2afc; font-weight: bold;">when</span> info
          (<span style="color: #ff2afc; font-weight: bold;">let*</span> ((headline (nth 0 info))
                 (days-of-week '(<span style="color: #7984D1;">"Sun"</span> <span style="color: #7984D1;">"Mon"</span> <span style="color: #7984D1;">"Tue"</span> <span style="color: #7984D1;">"Wed"</span> <span style="color: #7984D1;">"Thu"</span> <span style="color: #7984D1;">"Fri"</span> <span style="color: #7984D1;">"Sat"</span>))
                 (fulldate (nth 1 info))
                 (year (nth 2 fulldate))
                 (month (nth 0 fulldate))
                 (day (nth 1 fulldate))
                 (dayofweek (nth (calendar-day-of-week fulldate) days-of-week))
                 (time (nth 2 info)))
            (goto-char (point-max))
            <span style="color: #546A90;">;; </span><span style="color: #546A90;">(insert (format "\n** %s\n:PROPERTIES:\n:TIMEZONE: UTC\n:END:\n&lt;%d-%02d-%02d %s %s&gt;\n%s"</span>
            <span style="color: #546A90;">;;                 </span><span style="color: #546A90;">headline year month day dayofweek time desc)))))</span>
            (insert (format <span style="color: #7984D1;">"\n** %s\n&lt;%d-%02d-%02d %s %s&gt;\n%s"</span>
                            headline year month day dayofweek time desc)))))
      (<span style="color: #ff2afc; font-weight: bold;">setq</span> current (+ current 1)))))

(<span style="color: #ff2afc; font-weight: bold;">setq</span> pgw/ohs-schoolyear-dates
      #s(hash-table
         size 7
         test equal
         data (<span style="color: #7984D1;">"fallstart"</span> (2020 8 19)
               <span style="color: #7984D1;">"fallend"</span> (2020 12 19)
               <span style="color: #7984D1;">"springstart"</span> (2021 1 4)
               <span style="color: #7984D1;">"mononfri"</span> (2021 1 19)
               <span style="color: #7984D1;">"springend"</span> (2021 5 13)
               <span style="color: #7984D1;">"holidays"</span> ((2020 9 7 2020 9 8) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Labor Day</span>
                           (2020 11 25 2020 11 27) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Thanksgiving Holiday</span>
                           (2020 12 19 2021 1 3) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Winter Closure</span>
                           (2021 1 18 2021 1 19) <span style="color: #546A90;">;; </span><span style="color: #546A90;">MLK Holiday</span>
                           (2021 2 15) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Presidents Day</span>
                           (2021 2 16) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Reading Day (No classes)</span>
                           (2021 3 22 2021 3 26) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Spring Break</span>
                           (2021 5 31 2021 6 1)) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Memorial Day Holiday</span>
               <span style="color: #7984D1;">"noclasses"</span> ((2020 10 28 2020 10 30) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Parent-Teacher Conferences (no classes)</span>
                            (2020 12 9 2020 12 11) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Study Days (no classes)</span>
                            (2020 12 14 2020 12 19) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Fall Semester Finals</span>
                            (2021 1 4 2021 1 8) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Reading Week</span>
                            (2021 5 17 2021 5 19) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Study Days</span>
                            (2021 5 20 2021 5 21) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Spring Semester Finals</span>
                            (2021 5 24 2021 5 27) <span style="color: #546A90;">;; </span><span style="color: #546A90;">Spring Semester Finals</span>
                            ))))
</pre>
</div>

<p>
Example usage (run in a dedicated file)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(pgw/create-entry <span style="color: #7984D1;">"UM51A: Linear Algebra"</span> '(1 2) '(1 3) 3 <span style="color: #7984D1;">"Adobe connect class link"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org140546a" class="outline-4">
<h4 id="org140546a"><span class="section-number-4">4.40.3</span> Sync gcal Bash Script</h4>
<div class="outline-text-4" id="text-4-40-3">
<p>
This runs a bash script which in turn
</p>
<ol class="org-ol">
<li>curls the calendar file from the Canvas website</li>
<li>runs a python program which parses the calendar file into <code>ohs_gcal.org</code> according to the class. In doing so, it takes into account whether the timestamp should be a deadline or not.</li>
</ol>

<p>
See <a href="https://github.com/piercegwang/ohsics_to_org">https://github.com/piercegwang/ohsics<sub>to</sub><sub>org</sub></a> for more info.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #7984D1;">"C-c s-g o"</span>) (<span style="color: #ff2afc; font-weight: bold;">lambda</span> () (<span style="color: #ff2afc; font-weight: bold;">interactive</span>) (start-process-shell-command <span style="color: #7984D1;">"Running ~/QScripts/syncgcal.sh"</span> nil <span style="color: #7984D1;">"bash ~/QScripts/syncgcal.sh"</span>)))
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Pierce Wang</p>
<p class="date">Created: 2020-11-29 Sun 12:21</p>
</div>
</body>
</html>
